{"version":3,"sources":["actions/menu.js","components/MenuBar.js","actions/scroll.js","components/LoadingProgress.js","components/NoResults.js","service/searchService.js","utils/stringUtils.js","containers/Runner.js","actions/search.js","actions/runner.js","containers/Race.js","actions/race.js","containers/Main.js","service/storageService.js"],"names":["menuToggleAction","details","arguments","length","undefined","dispatch","type","MENU_TOGGLE_ACTION","payload","MenuBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleDrawerOpen","dispatchMenuToggleAction","handleDrawerClose","_this$props","classes","theme","runnerOnClick","raceOnClick","menuOpen","menuReducer","react_default","a","createElement","className","root","CssBaseline_default","AppBar_default","position","classNames","appBar","defineProperty","appBarShift","Toolbar_default","disableGutters","IconButton_default","color","aria-label","onClick","menuButton","hide","Menu_default","Drawer_default","drawer","variant","anchor","open","paper","drawerPaper","drawerHeader","direction","ChevronLeft_default","ChevronRight_default","Divider_default","List_default","ListItem_default","button","key","ListItemIcon_default","DirectionsRun_default","ListItemText_default","primary","EventNote_default","React","Component","connect","state","objectSpread","withStyles","display","transition","transitions","create","easing","sharp","duration","leavingScreen","width","concat","marginLeft","easeOut","enteringScreen","marginRight","flexShrink","alignItems","padding","mixins","toolbar","justifyContent","content","flexGrow","spacing","unit","contentShift","withTheme","memo","stickyAction","sticky","STICKY_ACTION","LinearProgress_default","noRaces","marginTop","marginBottom","Paper_default","Typography_default","entities","AllHtmlEntities","search","_x","_x2","_x3","_search","apply","_callee","runnerNames","startIndex","endIndex","runnersNamedJoined","races","regenerator_default","wrap","_context","prev","next","join","axios","get","process","then","response","data","catch","error","console","log","abrupt","stop","searchByRace","_x4","_x5","_searchByRace","_callee2","raceNames","encodedRaceNames","_context2","replace","encode","partialSearch","partialName","cacheKey","runnersInSessionStorage","getSession","options","url","toLowerCase","fetch","json","runnersList","items","map","runner","found","runnerAdded","push","setSession","value","partialRaceSearch","racesInSessionStorage","raceList","race","raceAdded","getRaceInfoByNames","_x6","_getRaceInfoByNames","_callee3","_context3","upperCaseWords","sentence","sentenceParts","split","word","charAt","toUpperCase","slice","sentenceToReturn","part","ArrowUpwardButton","lazy","__webpack_require__","e","bind","ArrowDownwardButton","ClearButton","RaceDetails","RunnerDetails","Promise","all","RaceInfo","RaceDropDown","OverallStats","LoadMoreButton","styles","searchField","paddingBottom","paddingLeft","paddingRight","zIndex","backgroundColor","borderBottom","top","paddingTop","borderTop","progress","margin","chosenRunnersKey","Runner","componentDidMount","window","addEventListener","onScroll","namesSet","getLocal","dispatchChosenRunners","onChange","scroll","scrollTo","componentWillUnmount","removeEventListener","shouldComponentUpdate","nextProps","nextState","_","isEqual","dispatchChosenRace","dispatchEndIndex","dispatchLoadMoreProgress","dispatchLoadingProgress","dispatchRunnerDetails","dispatchSticky","raceReducer","runnerReducer","scrollReducer","searchReducer","buildClearButton","react","fallback","CircularProgress_default","prototypeprogress","clearClick","scrollY","scrollToTop","performSearch","_ref","asyncToGenerator","mark","runnerName","runnerInStorage","result","sent","JSON","stringify","parse","removeSession","searchForRunners","_ref2","runners","newEndIndex","names","runnersInStorage","runnersDetails","eachRunner","searchForRunnersByRace","_ref3","handleClick","_ref4","_callee4","event","searchValue","_context4","preventDefault","searchRunnerRef","trim","removeLocal","removeAllSession","scrollToTopClick","scrollToBottomClick","scrollToBottom","loadingProgress","components_LoadingProgress","noResultsFound","components_NoResults","buildRaceResult","raceInfo","raceResult","id","loadMoreOnClick","_ref5","_callee5","chosenRunners","_context5","_x7","calculateNextEndIndex","runnerDetails","_this$props$searchRed","overallStats","noOfRaces","_ref6","_callee6","_this$props$searchRed2","chosenRace","runnersDetailsResult","_context6","setLocal","_x8","fetchRunnerByRace","_ref7","_callee7","chosenRaceParam","_this$props$searchRed3","_context7","_x9","_x10","fetchRunners","_ref8","_callee8","callback","_context8","t0","t1","_x11","_x12","debouncedFetchRunners","debounce","getRunners","handleChooseRaceChange","_ref9","_callee9","_this$props$searchRed4","_context9","target","_x13","populateOverallStats","buildChosenRaceList","filteredRaces","listOfChosenRaces","eachChosenRace","i","name","sort","b","Date","dateTime","createRef","clearButton","raceResults","loadingResults","scrollToTopButton","racesSelect","loadMoreButton","loadMoreLoadingProgress","downwardArrowButtonShow","_this2","_this$props$classes","_this$props$searchRed5","loadMoreLoading","searchClass","racesForRunner","scrollMore","Fragment","react_select_es","cacheOptions","defaultOptions","valueKey","labelKey","matchProp","loadOptions","placeholder","noResultsText","multi","ignoreAccents","LOADING_PROGRESS_ACTION","loadingProgressAction","RUNNER_DETAILS_ACTION","runnerDetailsAction","CHOSEN_RUNNERS_ACTION","chosenRunnersAction","CHOSEN_RACE_ACTION","chosenRaceAction","END_INDEX_ACTION","endIndexAction","loadMoreProgress","LOAD_MORE_PROGRESS_ACTION","loadMoreProgressAction","ResultCategory","YearResultCategory","RacePerformancePanel","MapComponent","SameDayRaces","expansionPanel","chosenRacesKey","directionsDestinationKey","originKey","Race","racesSet","dispatchRaceDetails","Race_ClearButton","raceDetails","chosenRaces","raceDetailsResult","searchForRaces","fetchRaces","debouncedFetchRaces","getRaces","raceInStorage","original","buildRaceInfo","raceInfoComponent","_latitude","Race_RaceInfo","buildResultCategories","categoryRecords","resultCategoryComponent","ExpansionPanel_default","ExpansionPanelSummary_default","expandIcon","ExpandMore_default","heading","ExpansionPanelDetails_default","buildYearResultCategories","yearResultsComponent","buildYearPerformanceGraph","progressClass","performanceData","performance","year","filter","raceData","buildDownwardArrow","Race_ArrowDownwardButton","buildMapComponent","destination","origin","cachedOrigin","navigator","geolocation","getCurrentPosition","lat","coords","latitude","lng","longitude","buildSameDayRaces","sameDayRaces","parseInt","date","substring","getFullYear","searchRaceRef","racePerformancePanelComponent","mapDirectionComponent","sameDayRacesComponent","loadingRaceProgress","properties","racesSameDay","Race_ArrowUpwardButton","LOADING_PROGRESS_RACE_ACTION","loadingProgressRaceAction","CHOSEN_RACES_ACTION","chosenRacesAction","RACE_DETAILS_ACTION","raceDetailsAction","Main","dispatchMenuAction","cachedValue","runnerOrRaceSearch","_this$props$menuReduc","hasUserSelectedMenuOption","containers_Race","containers_Runner","components_MenuBar","closeMenu","PureComponent","menu","MENU_ACTION","menuAction","sessionStorage","setItem","getItem","removeItem","clear","localStorage","d","__webpack_exports__"],"mappings":"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","file":"static/js/21.5f36ecfc.chunk.js","sourcesContent":["import {\n    MENU_ACTION,\n    MENU_TOGGLE_ACTION,\n} from './../actionTypes/menu';\n\nexport const menuAction = (details = null) => dispatch => {\n    dispatch({\n        type: MENU_ACTION,\n        payload: details,\n    });\n};\n\nexport const menuToggleAction = (details = null) => dispatch => {\n    dispatch({\n        type: MENU_TOGGLE_ACTION,\n        payload: details,\n    });\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DirectionsRunIcon from '@material-ui/icons/DirectionsRun';\nimport EventNoteIcon from '@material-ui/icons/EventNote';\n\nimport { menuToggleAction } from './../actions/menu';\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginLeft: 12,\n    marginRight: 20,\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing.unit * 3,\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n});\n\nclass MenuBar extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  handleDrawerOpen = () => {\n    this.props.dispatchMenuToggleAction(true);\n  };\n\n  handleDrawerClose = () => {\n    this.props.dispatchMenuToggleAction(false);\n  };\n\n  render() {\n    const { classes, theme, runnerOnClick, raceOnClick, menuReducer } = this.props;\n    const { menuOpen } = menuReducer;\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar\n          position=\"fixed\"\n          className={classNames(classes.appBar, {\n            [classes.appBarShift]: menuOpen,\n          })}\n        >\n          <Toolbar disableGutters={menuOpen}>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"Open drawer\"\n              onClick={this.handleDrawerOpen}\n              className={classNames(classes.menuButton, menuOpen && classes.hide)}\n            >\n              <MenuIcon />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n        <Drawer\n          className={classes.drawer}\n          variant=\"persistent\"\n          anchor=\"left\"\n          open={menuOpen}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={this.handleDrawerClose}>\n              {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n            </IconButton>\n          </div>\n          <Divider />\n          <List>\n            <ListItem button key='Runner' onClick={runnerOnClick}>\n                <ListItemIcon><DirectionsRunIcon /></ListItemIcon>\n                <ListItemText primary='Runner' />\n            </ListItem>\n            <ListItem button key='Race' onClick={raceOnClick}>\n                <ListItemIcon><EventNoteIcon /></ListItemIcon>\n                <ListItemText primary='Race' />\n            </ListItem>\n            {/* <ListItem button key='Club'>\n                <ListItemIcon><MapIcon /></ListItemIcon>\n                <ListItemText primary='Club' />\n            </ListItem>\n            <ListItem button key='Calendar'>\n                <ListItemIcon><MapIcon /></ListItemIcon>\n                <ListItemText primary='Calendar' />\n            </ListItem> */}\n          </List>\n        </Drawer>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state\n });\n\n const mapDispatchToProps = dispatch => ({\n\t dispatchMenuToggleAction: (menuOpen) => dispatch(menuToggleAction(menuOpen)),\n });\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles, { withTheme: true })(React.memo(MenuBar)));\n","import {\n    STICKY_ACTION,\n} from './../actionTypes/scroll';\n\nexport const stickyAction = (sticky = false) => dispatch => {\n    dispatch({\n        type: STICKY_ACTION,\n        payload: sticky,\n    });\n};","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst styles = theme => ({});\n\nfunction LoadingProgress() {\n  return (\n    <span>\n      <br />\n      <LinearProgress />\n      <br />\n      <LinearProgress color=\"secondary\" variant=\"query\" />\n      <br />\n      <LinearProgress />\n    </span>\n  );\n}\n\nexport default withStyles(styles)(LoadingProgress);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n  noRaces: {\n    marginRight: '10px',\n    marginLeft: '10px',\n    marginTop: '5px',\n    marginBottom: '5px',\n  },\n});\n\nfunction NoResults(props) {\n  const { classes } = props;\n\n  return (\n    <Paper className={classes.noRaces}>\n      <Typography variant=\"subheading\">\n        No race results found for this runner!\n      </Typography>\n    </Paper>\n  );\n}\n\nexport default withStyles(styles)(NoResults);\n","import axios from 'axios';\nimport { AllHtmlEntities } from 'html-entities';\n\nimport { getSession, setSession } from './storageService';\n\nconst entities = new AllHtmlEntities();\n\nexport async function search(runnerNames, startIndex, endIndex) {\n  const runnersNamedJoined = runnerNames.join('$$');\n  let races = null;\n\n  await axios\n    .get(\n      `${\n        process.env.REACT_APP_API_SERVER\n      }/runner/${runnersNamedJoined}/${startIndex}/${endIndex}`,\n    )\n    .then(function(response) {\n      races = response.data;\n      return races;\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n\n  return races;\n}\n\nexport async function searchByRace(runnerNames, raceNames) {\n  const runnersNamedJoined = runnerNames.join('$$');\n  let encodedRaceNames = raceNames.replace('/', '**');\n  encodedRaceNames = entities.encode(encodedRaceNames);\n  let races = null;\n\n  await axios\n    .get(\n      `${\n        process.env.REACT_APP_API_SERVER\n      }/runnerByRace/${runnersNamedJoined}/${encodedRaceNames}`,\n    )\n    .then(function(response) {\n      races = response.data;\n      return races;\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n\n  return races;\n}\n\nexport function partialSearch(partialName) {\n  const cacheKey = `runnersList${partialName}`;\n  const runnersInSessionStorage = getSession(cacheKey);\n\n  if (runnersInSessionStorage) {\n    return {\n      options: runnersInSessionStorage,\n    };\n  }\n\n  const url = `${\n    process.env.REACT_APP_API_SERVER\n  }/autocomplete/runner/${partialName.toLowerCase()}`;\n\n  return fetch(url)\n    .then(response => {\n      return response.json();\n    })\n    .then(json => {\n      const runnersList = [];\n\n      json.items.map(runner => {\n        let found = false;\n\n        runnersList.map(runnerAdded => {\n          if (runner.display === runnerAdded.display) {\n            found = true;\n\n            return true;\n          }\n\n          return false;\n        });\n\n        if (!found) {\n          runnersList.push(runner);\n        }\n\n        return found;\n      });\n\n      setSession({\n        key: cacheKey,\n        value: runnersList,\n      });\n\n      return {\n        options: runnersList,\n      };\n    });\n}\n\nexport function partialRaceSearch(partialName) {\n  const cacheKey = `raceSearch${partialName}`;\n  const racesInSessionStorage = getSession(cacheKey);\n\n  if (racesInSessionStorage) {\n    return {\n      options: racesInSessionStorage,\n    };\n  }\n\n  const url = `${\n    process.env.REACT_APP_API_SERVER\n  }/autocomplete/race/${partialName.toLowerCase()}`;\n\n  return fetch(url)\n    .then(response => {\n      return response.json();\n    })\n    .then(json => {\n      const raceList = [];\n\n      console.log(json);\n\n      json.map(race => {\n        let found = false;\n\n        raceList.map(raceAdded => {\n          if (race.display === raceAdded.display) {\n            found = true;\n\n            return true;\n          }\n\n          return false;\n        });\n\n        if (!found) {\n          raceList.push(race);\n        }\n\n        return found;\n      });\n\n      setSession({\n        key: cacheKey,\n        value: raceList,\n      });\n\n      return {\n        options: raceList,\n      };\n    });\n}\n\nexport async function getRaceInfoByNames(raceNames) {\n  const url = `${process.env.REACT_APP_API_SERVER}/race/byNames/${raceNames}`;\n  let races = null;\n\n  await axios\n    .get(url)\n    .then(function(response) {\n      races = response.data;\n      return races;\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n\n  return races;\n}\n","// @TODO: Test Me\nexport function upperCaseWords(sentence) {\n  const sentenceParts = sentence\n    .split(' ')\n    .map(word => `${word.charAt(0).toUpperCase()}${word.slice(1)} `);\n  let sentenceToReturn = '';\n\n  sentenceParts.map(part => {\n    sentenceToReturn = `${sentenceToReturn}${part}`;\n\n    return sentenceToReturn;\n  });\n\n  return sentenceToReturn;\n}\n","import React, { Component, Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport { animateScroll as scroll } from 'react-scroll';\nimport { Async } from 'react-select';\nimport _ from 'lodash';\nimport 'react-select/dist/react-select.css';\n\n// Material-UI\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { loadingProgressAction, chosenRunnersAction, chosenRaceAction, endIndexAction, loadMoreProgressAction } from './../actions/search';\nimport { runnerDetailsAction } from './../actions/runner';\nimport { stickyAction } from './../actions/scroll';\nimport LoadingProgress from './../components/LoadingProgress';\nimport NoResults from './../components/NoResults';\n\nimport {\n  search,\n  partialSearch,\n  searchByRace,\n} from './../service/searchService';\nimport {\n  getSession,\n  setSession,\n  removeSession,\n  getLocal,\n  setLocal,\n  removeLocal,\n  removeAllSession,\n} from './../service/storageService';\nimport { upperCaseWords } from './../utils/stringUtils';\n\nconst ArrowUpwardButton = React.lazy(() => import('./../components/ArrowUpwardButton'));\nconst ArrowDownwardButton = React.lazy(() => import('./../components/ArrowDownwardButton'));\nconst ClearButton = React.lazy(() => import('./../components/ClearButton'));\nconst RaceDetails = React.lazy(() => import('./../components/RaceDetails'));\nconst RunnerDetails = React.lazy(() => import('./../components/RunnerDetails'));\nconst RaceInfo = React.lazy(() => import('./../components/RaceInfo'));\nconst RaceDropDown = React.lazy(() => import('./../components/RaceDropDown'));\nconst OverallStats = React.lazy(() => import('./../components/OverallStats'));\nconst LoadMoreButton = React.lazy(() => import('./../components/LoadMoreButton'));\n\nconst styles = theme => ({\n  searchField: {\n    paddingBottom: '5px',\n    paddingLeft: '5px',\n    paddingRight: '5px',\n    marginTop: '-5px',\n    zIndex: '2',\n  },\n  search: {\n    position: 'sticky',\n    backgroundColor: 'white',\n    zIndex: '2 !important',\n    borderBottom: '1px solid #CCCCCC',\n    top: '40px',\n    paddingTop: '40px',\n    borderTop: '1px solid #CCCCCC',\n    paddingBottom: '2px',\n  },\n  progress: {\n    margin: theme.spacing.unit * 2,\n  },\n});\n\nconst chosenRunnersKey = 'chosenRunners';\nconst startIndex = 0;\n\nclass Runner extends Component {\n  constructor(props) {\n    super(props);\n\n    this.searchRunnerRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    window.addEventListener('scroll', this.onScroll, false);\n\n    const namesSet = getLocal(chosenRunnersKey);\n\n    if (namesSet) {\n      this.props.dispatchChosenRunners(namesSet);\n      this.onChange(namesSet);\n    }\n\n    scroll.scrollTo(0);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener('scroll', this.onScroll, false);\n  };\n\n  shouldComponentUpdate = (nextProps, nextState) => {\n    if (!_.isEqual(this.props.classes, nextProps.classes)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchChosenRace, nextProps.dispatchChosenRace)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchChosenRunners, nextProps.dispatchChosenRunners)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchEndIndex, nextProps.dispatchEndIndex)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchLoadMoreProgress, nextProps.dispatchLoadMoreProgress)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchLoadingProgress, nextProps.dispatchLoadingProgress)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchRunnerDetails, nextProps.dispatchRunnerDetails)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchSticky, nextProps.dispatchSticky)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.menuReducer, nextProps.menuReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.raceReducer, nextProps.raceReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.runnerReducer, nextProps.runnerReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.scrollReducer, nextProps.scrollReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.searchReducer, nextProps.searchReducer)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  buildClearButton = () => {\n    return <Suspense fallback={<CircularProgress className={styles.prototypeprogress} />}>\n            <ClearButton onClick={this.clearClick} />\n          </Suspense>;\n  };\n\n  onScroll = () => {\n    if (window.scrollY >= 165 && !this.props.scrollReducer.sticky) {\n      this.props.dispatchSticky(true);\n    } else if (window.scrollY < 165 && this.props.scrollReducer.sticky) {\n      this.props.dispatchSticky(false);\n    }\n  };\n\n  scrollToTop = () => {\n    scroll.scrollTo(170);\n  };\n\n  performSearch = async runnerName => {\n    if (runnerName) {\n      this.props.dispatchLoadingProgress(true);\n      this.props.dispatchRunnerDetails(null);\n      this.props.dispatchChosenRace('');\n\n      const { endIndex } = this.props.searchReducer;\n      const cacheKey = `getRunner${runnerName}`.replace(' ', '');\n      const runnerInStorage = getSession(cacheKey);\n      let result;\n\n      if (!runnerInStorage) {\n        result = await search(runnerName, startIndex, endIndex);\n        setSession({ key: cacheKey, value: JSON.stringify(result) });\n      } else {\n        result = JSON.parse(runnerInStorage);\n        removeSession(cacheKey);\n      }\n\n      this.props.dispatchRunnerDetails(result);\n      this.props.dispatchLoadingProgress(false);\n      this.scrollToTop();\n    }\n  };\n\n  searchForRunners = async (runners, newEndIndex) => {\n    if (runners && runners.length > 0) {\n      let names = [];\n\n      runners.map(eachRunner => {\n        names.push(eachRunner.display);\n      });\n\n      const cacheKey = `getRunners${names.join(\n        '',\n      )}${startIndex}${newEndIndex}`.replace(' ', '');\n      const runnersInStorage = getSession(cacheKey);\n      let runnersDetails;\n\n      if (!runnersInStorage) {\n        runnersDetails = await search(names, startIndex, newEndIndex);\n        setSession({ key: cacheKey, value: JSON.stringify(runnersDetails) });\n\n        return runnersDetails;\n      } else {\n        runnersDetails = JSON.parse(runnersInStorage);\n        removeSession(cacheKey);\n      }\n\n      return runnersDetails;\n    }\n\n    return null;\n  };\n\n  searchForRunnersByRace = async (runners, race) => {\n    if (runners && runners.length > 0) {\n      let names = [];\n\n      runners.map(eachRunner => {\n        names.push(eachRunner.display);\n      });\n\n      const cacheKey = `getRunnersByRace${names.join('')}${race}`.replace(\n        ' ',\n        '',\n      );\n      const runnersInStorage = getSession(cacheKey);\n      let runnersDetails;\n\n      if (!runnersInStorage) {\n        runnersDetails = await searchByRace(names, race);\n        setSession({ key: cacheKey, value: JSON.stringify(runnersDetails) });\n\n        return runnersDetails;\n      } else {\n        runnersDetails = JSON.parse(runnersInStorage);\n        removeSession(cacheKey);\n      }\n\n      return runnersDetails;\n    }\n\n    return null;\n  };\n\n  handleClick = async event => {\n    event.preventDefault();\n    const searchValue = this.searchRunnerRef.value.trim();\n\n    if (searchValue !== '') {\n      if (upperCaseWords(searchValue) !== this.state.runnerName) {\n        await this.performSearch(searchValue);\n      }\n    } else {\n      this.clearClick();\n    }\n  };\n\n  clearClick = () => {\n    this.props.dispatchLoadingProgress(true);\n    this.props.dispatchRunnerDetails(null);\n    this.props.dispatchSticky(false);\n    this.props.dispatchChosenRunners([]);\n    this.props.dispatchChosenRace('');\n    this.props.dispatchEndIndex(0);\n\n    removeLocal(chosenRunnersKey);\n    removeAllSession();\n\n    this.props.dispatchLoadingProgress(false);\n\n    scroll.scrollToTop();\n  };\n\n  scrollToTopClick = e => {\n    e.preventDefault();\n    scroll.scrollToTop();\n  };\n\n  scrollToBottomClick = e => {\n    e.preventDefault();\n    scroll.scrollToBottom();\n  };\n\n  loadingProgress = () => {\n    return <LoadingProgress />;\n  };\n\n  noResultsFound = () => {\n    return <NoResults />;\n  };\n\n  buildRaceResult = race => {\n    let raceResult = race;\n\n    if (raceResult && raceResult.length > 0) {\n      raceResult = raceResult[0];\n    }\n\n    let raceInfo;\n\n    if (raceResult.raceInfo) {\n      raceInfo = <Suspense fallback={<CircularProgress className={styles.progress} />}>\n                  <RaceInfo raceInfo={raceResult.raceInfo} />\n                </Suspense>;\n    }\n\n    return (\n      <div key={raceResult.id}>\n        <br />\n        <Suspense fallback={<CircularProgress className={styles.progress} />}>\n          <RaceDetails race={raceResult} />\n        </Suspense>\n        {raceInfo}\n        <Suspense fallback={<CircularProgress className={styles.progress} />}>\n          <RunnerDetails runner={raceResult.runner} />\n        </Suspense>\n      </div>\n    );\n  };\n\n  loadMoreOnClick = async event => {\n    event.preventDefault();\n    const { chosenRunners } = this.props.searchReducer;\n\n    this.props.dispatchLoadMoreProgress(true);\n\n    await this.onChange(chosenRunners);\n\n    this.props.dispatchLoadMoreProgress(false);\n  };\n\n  calculateNextEndIndex = runnerNames => {\n    const { runnerDetails } = this.props.runnerReducer;\n    const { endIndex, chosenRunners } = this.props.searchReducer;\n\n    if (endIndex === 0) {\n      return 10;\n    }\n\n    if (runnerNames.length === chosenRunners.length) {\n      if (endIndex + 10 > runnerDetails.overallStats.noOfRaces) {\n        return runnerDetails.overallStats.noOfRaces;\n      }\n\n      return endIndex + 10;\n    } else {\n      return 10;\n    }\n  };\n\n  onChange = async runnerNames => {\n    const { runnersDetails } = this.props.runnerReducer;\n    const { chosenRunners, chosenRace, endIndex } = this.props.searchReducer;\n\n    if (runnerNames.length > 0) {\n      this.props.dispatchLoadingProgress(true);\n\n      const newEndIndex = this.calculateNextEndIndex(runnerNames);\n      const runnersDetailsResult = await this.searchForRunners(\n        runnerNames,\n        newEndIndex,\n      );\n\n      if (!_.isEqual(chosenRunners, runnerNames)) {\n        this.props.dispatchChosenRunners(runnerNames);\n      }\n\n      if (!_.isEqual(runnersDetails, runnersDetailsResult)) {\n        this.props.dispatchRunnerDetails(runnersDetailsResult);\n      }\n\n      if (endIndex !== newEndIndex) {\n        this.props.dispatchEndIndex(newEndIndex);\n      }\n\n      if (chosenRace !== '') {\n        this.props.dispatchChosenRace('');\n      }\n\n      setLocal({ key: chosenRunnersKey, value: runnerNames });\n\n      this.props.dispatchLoadingProgress(false);\n    } else {\n      this.clearClick();\n    }\n  };\n\n  fetchRunnerByRace = async (runnerNames, chosenRaceParam) => {\n    const { runnersDetails } = this.props.runnerReducer;\n    const { chosenRace, chosenRunners } = this.props.searchReducer;\n\n    if (runnerNames.length > 0) {\n      const runnersDetailsResult = await this.searchForRunnersByRace(\n        runnerNames,\n        chosenRaceParam,\n      );\n\n      if (chosenRaceParam !== chosenRace) {\n        this.props.dispatchChosenRace(chosenRaceParam);\n      }\n\n      if (!_.isEqual(runnerNames, chosenRunners)) {\n        this.props.dispatchChosenRunners(runnerNames);\n      }\n\n      if (!_.isEqual(runnersDetails, runnersDetailsResult)) {\n        this.props.dispatchRunnerDetails(runnersDetailsResult);\n      }\n\n      setLocal({ key: chosenRunnersKey, value: runnerNames });\n\n      this.props.dispatchLoadingProgress(false);\n    } else {\n      this.clearClick();\n    }\n  };\n\n  fetchRunners = async (searchValue, callback) => {\n    console.log('searching - ', searchValue);\n    this.props.dispatchLoadingProgress(true);\n\n    if (!searchValue) {\n      callback(null, { options: [] });\n    }\n\n    if (searchValue.length > 2) {\n      callback(null, await partialSearch(searchValue));\n    } else {\n      callback(null, { options: [] });\n    }\n\n    this.props.dispatchLoadingProgress(false);\n  };\n\n  debouncedFetchRunners = _.debounce(this.fetchRunners, 100);\n\n  getRunners = (searchValue, callback) => {\n    if (!searchValue || searchValue.length < 4) {\n      return callback(null, { options: [] });\n    }\n\n    this.debouncedFetchRunners(searchValue, callback);\n  };\n\n  handleChooseRaceChange = async event => {\n    const { chosenRunners, endIndex } = this.props.searchReducer;\n    const chosenRace = event.target.value;\n\n    this.props.dispatchLoadingProgress(true);\n\n    if (endIndex !== 0) {\n      this.props.dispatchEndIndex(0);\n    }\n\n    if (chosenRace === 'all') {\n      await this.onChange(chosenRunners);\n    } else {\n      await this.fetchRunnerByRace(chosenRunners, chosenRace);\n    }\n\n    this.scrollToTop();\n  };\n\n  populateOverallStats = () => {\n    const { runnerDetails } = this.props.runnerReducer;\n\n    if (runnerDetails.overallStats) {\n      return  <Suspense fallback={<CircularProgress className={styles.progress} />}>\n                <OverallStats overallStats={runnerDetails.overallStats} />\n              </Suspense>;\n    }\n\n    return null;\n  };\n\n  buildChosenRaceList = (chosenRace, races) => {\n    let filteredRaces = [];\n    if (!chosenRace) {\n      chosenRace = '';\n    }\n\n    const listOfChosenRaces = chosenRace.split('||');\n\n    if (listOfChosenRaces.length > 1) {\n      listOfChosenRaces.map(eachChosenRace => {\n        for (let i = 0; i < races.length; i++) {\n          if (races[i].name === eachChosenRace) {\n            filteredRaces.push(races[i]);\n          }\n        }\n      });\n    } else {\n      if (races) {\n        filteredRaces = races;\n      }\n    }\n\n    if (filteredRaces.length > 1) {\n      filteredRaces = filteredRaces.sort(function(a, b) {\n        return new Date(b.dateTime) - new Date(a.dateTime);\n      });\n    }\n\n    return filteredRaces.map(race => this.buildRaceResult(race));\n  };\n\n  render() {\n    // @TODO: Tidy this up getting very cluttered\n    const { progress, searchField, search } = this.props.classes;\n    const { loadingProgress, chosenRunners, chosenRace, loadMoreLoading } = this.props.searchReducer;\n    const { runnerDetails } = this.props.runnerReducer;\n    const { sticky } = this.props.scrollReducer;\n    const searchClass = sticky ? search : '';\n    let { endIndex } = this.props.searchReducer;\n    let clearButton;\n    let overallStats;\n    let raceResults;\n    let loadingResults;\n    let scrollToTopButton;\n    let racesSelect;\n    let loadMoreButton;\n    let loadMoreLoadingProgress;\n    let downwardArrowButtonShow;\n\n    // loading main race results\n    if (loadingProgress) {\n      loadingResults = this.loadingProgress();\n    }\n\n    if (runnerDetails != null && runnerDetails.races && runnerDetails.races.length > 0) {\n      // Display clear button\n      clearButton = this.buildClearButton();\n      overallStats = this.populateOverallStats();\n      const racesForRunner = runnerDetails.races;\n\n      if (endIndex === 0) { \n        endIndex = 10;\n      }\n\n      // @TODO : Pass off to a function\n      // Filtering races\n      if (chosenRace === '') {\n        raceResults = racesForRunner.map(race => this.buildRaceResult(race));\n\n        // Load more button\n        if (runnerDetails.overallStats.noOfRaces > endIndex) {\n          loadMoreButton = <Suspense fallback={<CircularProgress className={progress} />}>\n                            <LoadMoreButton onClick={this.loadMoreOnClick} />\n                          </Suspense>;\n        }\n      } else {\n        raceResults = this.buildChosenRaceList(chosenRace, runnerDetails.races);\n\n        // Load more button\n        if (raceResults.length > endIndex) {\n          loadMoreButton = <Suspense fallback={<CircularProgress className={progress} />}>\n                             <LoadMoreButton onClick={this.loadMoreOnClick} />\n                           </Suspense>;\n        }\n      }\n\n      // Populating races drop down\n      racesSelect = (\n        <Suspense fallback={<CircularProgress className={progress} />}>\n                             <RaceDropDown\n                                raceNames={runnerDetails.raceNames}\n                                chosenRace={chosenRace}\n                                onChange={this.handleChooseRaceChange}\n                              />\n        </Suspense>\n      );\n\n      // loading more results\n      if (loadMoreLoading) {\n        loadMoreLoadingProgress = this.loadingProgress();\n        loadMoreButton = null;\n        scroll.scrollMore(250);\n      } else {\n        downwardArrowButtonShow = (\n          <Suspense fallback={<CircularProgress className={progress} />}>\n                  <ArrowDownwardButton onClick={this.scrollToBottomClick} />\n                </Suspense>\n        );\n\n        if (sticky) {\n          scrollToTopButton = (\n            <Suspense fallback={<CircularProgress className={progress} />}>\n                  <ArrowUpwardButton onClick={this.scrollToTopClick} />\n                </Suspense>\n          );\n        }\n      }\n    } else if (runnerDetails != null && runnerDetails.races.length === 0) {\n      raceResults = this.noResultsFound();\n    }\n\n    return (\n      <React.Fragment>\n        <div className={searchClass}>\n          <Async\n            cacheOptions\n            defaultOptions\n            className={searchField}\n            valueKey=\"original\"\n            labelKey=\"display\"\n            matchProp=\"any\"\n            name=\"runner-search-field\"\n            onChange={this.onChange}\n            loadOptions={this.getRunners}\n            placeholder=\"Search Runner\"\n            noResultsText=\"No runners found\"\n            value={chosenRunners}\n            multi={true}\n            ignoreAccents={false}\n          />\n          {racesSelect}\n          {clearButton}\n        </div>\n        {downwardArrowButtonShow}\n        {loadingResults}\n        {overallStats}\n        {raceResults}\n        {loadMoreLoadingProgress}\n        {loadMoreButton}\n        {scrollToTopButton}\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state\n });\n\n const mapDispatchToProps = dispatch => ({\n  dispatchLoadingProgress: (loadingProgress) => dispatch(loadingProgressAction(loadingProgress)),\n  dispatchRunnerDetails: (runnerDetails) => dispatch(runnerDetailsAction(runnerDetails)),\n  dispatchSticky: (sticky) => dispatch(stickyAction(sticky)),\n  dispatchChosenRunners: (chosenRunners) => dispatch(chosenRunnersAction(chosenRunners)),\n  dispatchChosenRace: (chosenRace) => dispatch(chosenRaceAction(chosenRace)),\n  dispatchEndIndex: (endIndex) => dispatch(endIndexAction(endIndex)),\n  dispatchLoadMoreProgress: (loadMoreProgress) => dispatch(loadMoreProgressAction(loadMoreProgress)),\n });\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(React.memo(Runner)));\n","import {\n    LOADING_PROGRESS_ACTION,\n    LOADING_PROGRESS_RACE_ACTION,\n    CHOSEN_RUNNERS_ACTION,\n    CHOSEN_RACES_ACTION,\n    CHOSEN_RACE_ACTION,\n    END_INDEX_ACTION,\n    LOAD_MORE_PROGRESS_ACTION,\n} from './../actionTypes/search';\n\nexport const loadingProgressAction = (loadingProgress = true) => dispatch => {\n    dispatch({\n        type: LOADING_PROGRESS_ACTION,\n        payload: loadingProgress,\n    });\n};\n\nexport const loadingProgressRaceAction = (loadingProgress = true) => dispatch => {\n    dispatch({\n        type: LOADING_PROGRESS_RACE_ACTION,\n        payload: loadingProgress,\n    });\n};\n\nexport const chosenRunnersAction = (chosenRunners = []) => dispatch => {\n    dispatch({\n        type: CHOSEN_RUNNERS_ACTION,\n        payload: chosenRunners,\n    });\n};\n\nexport const chosenRacesAction = (chosenRace = []) => dispatch => {\n    dispatch({\n        type: CHOSEN_RACES_ACTION,\n        payload: chosenRace,\n    });\n};\n\nexport const chosenRaceAction = (chosenRace = '') => dispatch => {\n    dispatch({\n        type: CHOSEN_RACE_ACTION,\n        payload: chosenRace,\n    });\n};\n\nexport const endIndexAction = (endIndex = 0) => dispatch => {\n    dispatch({\n        type: END_INDEX_ACTION,\n        payload: endIndex,\n    });\n};\n\nexport const loadMoreProgressAction = (loadMoreProgress = false) => dispatch => {\n    dispatch({\n        type: LOAD_MORE_PROGRESS_ACTION,\n        payload: loadMoreProgress,\n    });\n};","import {\n    RUNNER_DETAILS_ACTION,\n} from './../actionTypes/runner';\n\nexport const runnerDetailsAction = (details = null) => dispatch => {\n    dispatch({\n        type: RUNNER_DETAILS_ACTION,\n        payload: details,\n    });\n};","/* global google */\n\nimport React, { Component, Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport { animateScroll as scroll } from 'react-scroll';\nimport { Async } from 'react-select';\nimport _ from 'lodash';\nimport 'react-select/dist/react-select.css';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { partialRaceSearch, getRaceInfoByNames } from './../service/searchService';\nimport { loadingProgressRaceAction, chosenRacesAction, } from './../actions/search';\nimport { raceDetailsAction, } from './../actions/race';\nimport { stickyAction } from './../actions/scroll';\nimport { getSession,\n  setSession,\n  removeSession, getLocal, setLocal, removeLocal, } from './../service/storageService';\n\nimport LoadingProgress from './../components/LoadingProgress';\nimport NoResults from './../components/NoResults';\n\nconst ArrowUpwardButton = React.lazy(() => import('./../components/ArrowUpwardButton'));\nconst ArrowDownwardButton = React.lazy(() => import('./../components/ArrowDownwardButton'));\nconst RaceInfo = React.lazy(() => import('./../components/RaceInfo'));\nconst ClearButton = React.lazy(() => import('./../components/ClearButton'));\nconst ResultCategory = React.lazy(() => import('./../components/ResultCategory'));\nconst YearResultCategory = React.lazy(() => import('./../components/YearResultCategory'));\nconst RacePerformancePanel = React.lazy(() => import('./../components/RacePerformancePanel'));\nconst MapComponent = React.lazy(() => import('./../components/MapComponent'));\nconst SameDayRaces = React.lazy(() => import('./../components/SameDayRaces'));\n\nconst styles = theme => ({\n  searchField: {\n    paddingBottom: '5px',\n    paddingLeft: '5px',\n    paddingRight: '5px',\n    marginTop: '-5px',\n    zIndex: '2',\n  },\n  search: {\n    position: 'sticky',\n    backgroundColor: 'white',\n    zIndex: '2 !important',\n    borderBottom: '1px solid #CCCCCC',\n    top: '40px',\n    paddingTop: '40px',\n    borderTop: '1px solid #CCCCCC',\n    paddingBottom: '2px',\n  },\n  progress: {\n    margin: theme.spacing.unit * 2,\n  },\n  expansionPanel: {\n    marginTop: '5px',\n    marginBottom: '15px',\n  },\n});\n\nconst chosenRacesKey = 'chosenRaces';\nconst directionsDestinationKey = 'directionsDestinationKey';\nconst originKey = 'origin';\n\nclass Race extends Component {\n  constructor(props) {\n    super(props);\n\n\t\tthis.searchRaceRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    window.addEventListener('scroll', this.onScroll, false);\n\n    const racesSet = getLocal(chosenRacesKey);\n\n    if (racesSet) {\n      this.props.dispatchLoadingProgress(true);\n      this.props.dispatchChosenRace(racesSet);\n      this.onChange(racesSet);\n      this.props.dispatchLoadingProgress(false);\n    }\n\n    scroll.scrollTo(0);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener('scroll', this.onScroll, false);\n  };\n\n  shouldComponentUpdate = (nextProps, nextState) => {\n    if (!_.isEqual(this.props.classes, nextProps.classes)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchChosenRace, nextProps.dispatchChosenRace)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchLoadingProgress, nextProps.dispatchLoadingProgress)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchRaceDetails, nextProps.dispatchRaceDetails)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchSticky, nextProps.dispatchSticky)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.menuReducer, nextProps.menuReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.raceReducer, nextProps.raceReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.scrollReducer, nextProps.scrollReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.searchReducer, nextProps.searchReducer)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  buildClearButton = () => {\n    return <Suspense fallback={<CircularProgress className={styles.prototypeprogress} />}>\n            <ClearButton onClick={this.clearClick} />\n          </Suspense>;\n  };\n\n  onScroll = () => {\n    if (window.scrollY >= 165 && !this.props.scrollReducer.sticky) {\n      this.props.dispatchSticky(true);\n    } else if (window.scrollY < 165 && this.props.scrollReducer.sticky) {\n      this.props.dispatchSticky(false);\n    }\n  };\n\n  scrollToTop = () => {\n    scroll.scrollTo(170);\n  };\n\n  loadingProgress = () => {\n    return <LoadingProgress />;\n  };\n\n  noResultsFound = () => {\n    return <NoResults />;\n  };\n\n  scrollToTopClick = e => {\n    e.preventDefault();\n    scroll.scrollToTop();\n  };\n\n  scrollToBottomClick = e => {\n    e.preventDefault();\n    scroll.scrollToBottom();\n  };\n\n  onChange = async raceNames => {\n    const { raceDetails } = this.props.raceReducer;\n    const { chosenRaces } = this.props.searchReducer;\n\n    if (raceNames.length > 1) {\n      // @TODO: tidy up this hack so the user can only choose one race\n      this.props.dispatchChosenRace(chosenRaces);\n      this.props.dispatchLoadingProgress(false);\n\n      return;\n    }\n\n    if (raceNames.length === 1) {\n      this.props.dispatchLoadingProgress(true);\n\n      const raceDetailsResult = await this.searchForRaces(raceNames);\n\n      if (!_.isEqual(chosenRaces, raceNames)) {\n        this.props.dispatchChosenRace(raceNames);\n      }\n\n      if (!_.isEqual(raceDetails, raceDetailsResult)) {\n        this.props.dispatchRaceDetails(raceDetailsResult);\n      }\n\n      setLocal({ key: chosenRacesKey, value: raceNames });\n\n      this.props.dispatchLoadingProgress(false);\n    } else {\n      this.clearClick();\n    }\n  };\n\n  fetchRaces = async (searchValue, callback) => {\n    console.log('searching - ', searchValue);\n    this.props.dispatchLoadingProgress(true);\n\n    if (!searchValue) {\n      callback(null, { options: [] });\n    }\n\n    if (searchValue.length > 2) {\n      callback(null, await partialRaceSearch(searchValue));\n    } else {\n      callback(null, { options: [] });\n    }\n    this.props.dispatchLoadingProgress(false);\n  };\n\n\tdebouncedFetchRaces = _.debounce(this.fetchRaces, 200);\n\n  getRaces = (searchValue, callback) => {\n    if (!searchValue || searchValue.length < 3) {\n      return callback(null, { options: [] });\n    }\n\n    this.debouncedFetchRaces(searchValue, callback);\n  };\n\n  searchForRaces = async (race) => {\n    if (race) {\n      const cacheKey = `getRaces${race[0].display}`.replace(' ', '');\n      const raceInStorage = getSession(cacheKey);\n      let raceDetails;\n\n      if (!raceInStorage) {\n        raceDetails = await getRaceInfoByNames(race[0].original);\n        setSession({ key: cacheKey, value: JSON.stringify(raceDetails) });\n\n        return raceDetails;\n      } else {\n        raceDetails = JSON.parse(raceInStorage);\n        removeSession(cacheKey);\n      }\n\n      return raceDetails;\n    }\n\n    return null;\n  };\n\n  clearClick = () => {\n    this.props.dispatchLoadingProgress(true);\n    this.props.dispatchSticky(false);\n    this.props.dispatchRaceDetails(null);\n    this.props.dispatchChosenRace(null);\n\n    removeLocal(chosenRacesKey);\n    removeSession(directionsDestinationKey);\n\n    this.props.dispatchLoadingProgress(false);\n\n    scroll.scrollToTop();\n  };\n\n  buildRaceInfo = raceInfo => {\n    let raceInfoComponent;\n\n    if (raceInfo) {\n      if (raceInfo._latitude > 0) {\n        delete raceInfo._latitude; //not needed at there is google maps directions\n      }\n\n      raceInfoComponent = <Suspense fallback={<CircularProgress className={styles.progress} />}>\n                  <RaceInfo raceInfo={raceInfo} />\n                </Suspense>;\n    }\n\n    return (\n      <div key={raceInfo.id}>\n        {raceInfoComponent}\n      </div>\n    );\n  };\n\n  buildResultCategories = (categoryRecords, classes) => {\n    let resultCategoryComponent;\n\n    if (categoryRecords) {\n      resultCategoryComponent = <Suspense fallback={<CircularProgress className={classes.progress} />}>\n                  <ResultCategory categoryRecords={categoryRecords} />\n                </Suspense>;\n    }\n\n    return (\n      <React.Fragment>\n        <ExpansionPanel key={categoryRecords.length} className={classes.expansionPanel}>\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography className={classes.heading}>\n                  <b>Overall</b>\n              </Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>\n              {resultCategoryComponent}\n            </ExpansionPanelDetails>\n        </ExpansionPanel>\n      </React.Fragment>\n    );\n  };\n\n  buildYearResultCategories = races => {\n    let yearResultsComponent;\n \n    if (races) {\n      yearResultsComponent = <Suspense fallback={<CircularProgress className={styles.progress} />}>\n        <YearResultCategory races={races} />\n        <br />\n        <br />\n        <br />\n        <br />\n      </Suspense>;\n    }\n\n    return yearResultsComponent;\n  };\n\n  buildYearPerformanceGraph = (races, progressClass) => {\n    const performanceData = races.map((race) => {\n      if (race.performance > 0) {\n        return [`${race.year}`, `${race.performance}%`];\n      }\n    }).filter((race) => race !== undefined);\n\n    return <Suspense fallback={<CircularProgress className={progressClass} />}>\n            <RacePerformancePanel raceData={performanceData} />\n           </Suspense>;\n  }\n\n  buildDownwardArrow = (progress) => {\n    return (\n      <Suspense fallback={<CircularProgress className={progress} />}>\n              <ArrowDownwardButton onClick={this.scrollToBottomClick} />\n            </Suspense>\n    )\n  };\n\n  buildMapComponent = (destination, progress) => { \n    let cachedOrigin = getSession(originKey);\n    let origin;\n\n    if (!cachedOrigin && navigator.geolocation) {\n      const geoSuccess = function(position) {\n        origin = { lat: position.coords.latitude, lng: position.coords.longitude };\n        setSession({ key: originKey, value: JSON.stringify(origin)});\n      };\n      navigator.geolocation.getCurrentPosition(geoSuccess);\n    } else {\n      origin = JSON.parse(cachedOrigin);\n    }\n\n    return <Suspense fallback={<CircularProgress className={progress} />}>\n        <MapComponent destination={destination}\n                      origin={origin}\n         />\n      </Suspense>;\n  };\n\n  buildSameDayRaces = (races, sameDayRaces, progress) => { \n    const yearOfFirstRace = parseInt(races[0].date.substring(6, 10));\n    const yearNow = new Date().getFullYear();\n\n    if (yearOfFirstRace < yearNow || !sameDayRaces || sameDayRaces.length === 0) {\n      return null;\n    }\n\n    return <Suspense fallback={<CircularProgress className={progress} />}>\n        <SameDayRaces races={sameDayRaces} />\n      </Suspense>;\n  };\n\n\n  render() {\n    const { progress, searchField, search } = this.props.classes;\n    const { loadingRaceProgress, chosenRaces } = this.props.searchReducer;\n    const { raceDetails } = this.props.raceReducer;\n    const { sticky } = this.props.scrollReducer;\n    const searchClass = sticky ? search : '';\n    let clearButton;\n    let loadingResults;\n    let raceInfoComponent;\n    let resultCategoryComponent;\n    let scrollToTopButton;\n    let downwardArrowButtonShow;\n    let yearResultsComponent;\n    let racePerformancePanelComponent;\n    let mapDirectionComponent;\n    let sameDayRacesComponent;\n\n    // loading race details\n    if (loadingRaceProgress) {\n      loadingResults = this.loadingProgress();\n    }\n\n    if (chosenRaces && chosenRaces.length > 0) {\n      clearButton = this.buildClearButton();\n    }\n\n    if (raceDetails) {\n      raceInfoComponent = this.buildRaceInfo(raceDetails.raceInfo);\n      resultCategoryComponent = this.buildResultCategories(raceDetails.categoryRecords, this.props.classes);\n      yearResultsComponent = this.buildYearResultCategories(raceDetails.races);\n      racePerformancePanelComponent = this.buildYearPerformanceGraph(raceDetails.races, progress);\n      const destination = { lat: raceDetails.properties.latitude, lng: raceDetails.properties.longitude };\n      mapDirectionComponent = this.buildMapComponent(destination, progress);\n      downwardArrowButtonShow = this.buildDownwardArrow(progress);\n      sameDayRacesComponent = this.buildSameDayRaces(raceDetails.races, raceDetails.racesSameDay, progress);\n    }\n\n    if (sticky) {\n      scrollToTopButton = (\n        <Suspense fallback={<CircularProgress className={progress} />}>\n              <ArrowUpwardButton onClick={this.scrollToTopClick} />\n            </Suspense>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <div className={searchClass}>\n          <Async\n            cacheOptions\n            defaultOptions\n            className={searchField}\n            valueKey=\"original\"\n            labelKey=\"display\"\n            matchProp=\"any\"\n            name=\"race-search-field\"\n            onChange={this.onChange}\n            loadOptions={this.getRaces}\n            placeholder=\"Search Race\"\n            noResultsText=\"No race found\"\n            value={chosenRaces}\n            multi={true}\n            ignoreAccents={false}\n          />\n          {clearButton}\n        </div>\n        {loadingResults}\n        {raceInfoComponent}\n        {mapDirectionComponent}\n        {sameDayRacesComponent}\n        {racePerformancePanelComponent}\n        {resultCategoryComponent}\n        {yearResultsComponent}\n        {downwardArrowButtonShow}\n        {scrollToTopButton}\n      </React.Fragment>\n  \t);\n \t}\n}\n\nconst mapStateToProps = state => ({\n  ...state\n });\n\n const mapDispatchToProps = dispatch => ({\n  dispatchLoadingProgress: (loadingProgress) => dispatch(loadingProgressRaceAction(loadingProgress)),\n  dispatchChosenRace: (chosenRace) => dispatch(chosenRacesAction(chosenRace)),\n  dispatchRaceDetails: (raceDetails) => dispatch(raceDetailsAction(raceDetails)),\n  dispatchSticky: (sticky) => dispatch(stickyAction(sticky)),\n });\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(React.memo(Race)));","import {\n    RACE_DETAILS_ACTION,\n} from './../actionTypes/race';\n\nexport const raceDetailsAction = (details = null) => dispatch => {\n    dispatch({\n        type: RACE_DETAILS_ACTION,\n        payload: details,\n    });\n};","import React, { PureComponent, Suspense } from 'react';\nimport { connect } from 'react-redux';\n\nimport MenuBar from './../components/MenuBar';\nimport Runner from './Runner';\nimport Race from './Race';\n\nimport { menuAction, menuToggleAction } from './../actions/menu';\nimport { getLocal, setLocal,  } from './../service/storageService';\n\nconst cacheKey = 'Main-menuoption';\n\nclass Main extends PureComponent {\n  constructor(props) {\n    super(props);\n\t}\n\t\n\tcomponentWillMount() {\n\t\tconst cachedValue = getLocal(cacheKey);\n\n\t\tif (cachedValue) {\n\t\t\tif (cachedValue === 'race') {\n\t\t\t\tthis.props.dispatchMenuAction({race: true, runner: false});\n\t\t\t} else {\n\t\t\t\tthis.props.dispatchMenuAction({race: false, runner: true});\n\t\t\t}\n\n\t\t\tthis.props.dispatchMenuToggleAction(false);\n\t\t}\n\t}\n\n\traceOnClick = async event => {\n    event.preventDefault();\n\t\tsetLocal({key: cacheKey, value: 'race'});\n\n\t\tthis.props.dispatchMenuAction({race: true, runner: false});\n\t\tthis.props.dispatchMenuToggleAction(false);\n  };\n\n\trunnerOnClick = async event => {\n    event.preventDefault();\n\t\tsetLocal({key: cacheKey, value: 'runner'});\n\n\t\tthis.props.dispatchMenuAction({race: false, runner: true});\n\t\tthis.props.dispatchMenuToggleAction(false);\n  };\n\n  render() {\n\t\tconst { race, runner } = this.props.menuReducer;\n\t\tlet runnerOrRaceSearch;\n\t\tlet hasUserSelectedMenuOption = false;\n\n\t\tif (!race) {\n\t\t\trunnerOrRaceSearch = <Runner />;\n\t\t} else {\n\t\t\trunnerOrRaceSearch = <Race />;\n\t\t}\n\n\t\tif (race || runner) {\n\t\t\thasUserSelectedMenuOption = true;\n\t\t}\n\n    return (\n      <React.Fragment>\n\t\t\t\t<MenuBar raceOnClick={this.raceOnClick} runnerOnClick={this.runnerOnClick} \n\t\t\t\t\t\t\t\t closeMenu={hasUserSelectedMenuOption} />\n\t\t\t\t{runnerOrRaceSearch}\n      </React.Fragment>\n  \t);\n \t}\n}\n\nconst mapStateToProps = state => ({\n  ...state\n });\n\n const mapDispatchToProps = dispatch => ({\n\t dispatchMenuAction: (menu) => dispatch(menuAction(menu)),\n\t dispatchMenuToggleAction: (menuOpen) => dispatch(menuToggleAction(menuOpen)),\n });\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);","export function setSession({ key, value }) {\n  if (value !== 'null') {\n    sessionStorage.setItem(key, JSON.stringify(value));\n  }\n}\n\nexport function getSession(key) {\n  const value = sessionStorage.getItem(key);\n\n  if (value) {\n    return JSON.parse(value);\n  }\n\n  return value;\n}\n\nexport function removeSession(key) {\n  if (key) {\n    sessionStorage.removeItem(key);\n  }\n}\n\nexport function removeAllSession() {\n  sessionStorage.clear();\n}\n\nexport function setLocal({ key, value }) {\n  if (value !== 'null') {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n}\n\nexport function getLocal(key) {\n  const value = localStorage.getItem(key);\n\n  if (value) {\n    return JSON.parse(value);\n  }\n\n  return value;\n}\n\nexport function removeLocal(key) {\n  if (key) {\n    localStorage.removeItem(key);\n  }\n}\n\nexport function removeAllLocal() {\n  localStorage.clear();\n}\n"],"sourceRoot":""}