(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{6054:function(e,n,a){"use strict";a.r(n);var t=a(189),r=a(212),c=a.n(r),o=a(213),s=a(45),l=a(46),i=a(49),u=a(47),p=a(50),d=a(0),h=a.n(d),f=a(48),m=a(44),g=a.n(m),b=a(253),v=a(82),y=a.n(v),E=a(19),k=a(5691),R=a.n(k),C=a(75),x=a.n(C),O=a(5685),w=a.n(O),S=a(5688),j=a.n(S),L=a(370),N=a.n(L),D=a(5723),T=a.n(D),I=a(364),A=a.n(I),M=a(286),P=a.n(M),B=a(291),z=a.n(B),q=a(292),F=a.n(q),J=a(362),Y=a.n(J),U=a(5680),W=a.n(U),G=a(5682),K=a.n(G),_=a(293),H=a.n(_),$=a(294),V=a.n($),Q=a(296),X=a.n(Q),Z=a(295),ee=a.n(Z),ne=a(282),ae=a.n(ne),te=a(281),re=a.n(te),ce=a(285),oe=a.n(ce),se=a(279),le=a.n(se);var ie=Object(E.withStyles)(function(e){return{scrollToBottomButton:{margin:e.spacing.unit,position:"fixed",bottom:"5px",left:"1%",zIndex:"1"},numLoggedInContainer:{position:"absolute",top:"23px",right:"40px"},numLoggedInCount:{position:"relative",top:"-5px",paddingRight:"3px"}}})(h.a.memo(function(e){var n=e.classes,a=e.count;return h.a.createElement("span",{className:n.numLoggedInContainer},h.a.createElement("span",{className:n.numLoggedInCount},a),h.a.createElement("span",null,h.a.createElement(le.a,{color:"secondary"})))})),ue=a(5657),pe=a.n(ue);pe.a.initializeApp({apiKey:"AIzaSyBYNQXBXYEG9NJeqyLWyM43pW05NTSWk6k",authDomain:"fellrace-finder-firebase.firebaseapp.com",databaseURL:"https://fellrace-finder-firebase.firebaseio.com",projectId:"fellrace-finder-firebase",storageBucket:"fellrace-finder-firebase.appspot.com",messagingSenderId:"692653450207",appId:"1:692653450207:web:184102062e250c3439da6a",measurementId:"G-LQ5FZYHYN6"});var de=pe.a;function he(e){var n=e.key,a=e.value;"null"!==a&&sessionStorage.setItem(n,JSON.stringify(a))}function fe(e){var n=sessionStorage.getItem(e);return n?JSON.parse(n):n}function me(e){e&&sessionStorage.removeItem(e)}function ge(e){var n=e.key,a=e.value;"null"!==a&&localStorage.setItem(n,JSON.stringify(a))}function be(e){var n=localStorage.getItem(e);return n?JSON.parse(n):n}function ve(e){e&&localStorage.removeItem(e)}var ye=a(32),Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(n){n({type:ye.a,payload:e})}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(n){n({type:ye.c,payload:e})}},Re=a(58),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(n){n({type:Re.a,payload:e})}},xe="MainMenuOption",Oe="MainMenuPreviousOption",we="UserLogin",Se="App Version: ".concat("1.22.0"),je=function(e){function n(){var e,a;Object(s.a)(this,n);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).numLoggedIn=0,a.handleDrawerOpen=function(){a.props.dispatchMenuToggleAction(!0)},a.handleDrawerClose=function(){a.props.dispatchMenuToggleAction(!1)},a.loggedInOnClick=function(){window.confirm("Do you want to logout?")&&(a.props.dispatchLoginAction(null),ve(we),a.props.dispatchMenuToggleAction(!1))},a}return Object(p.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=de.database().ref("".concat("prod","/usersLoggedIn/count"));n.on("value",function(a){var t=a.val();e.numLoggedIn=t,e.props.dispatchMenuCountLoggedInAction(t),n.onDisconnect().set(t>0?t-1:0)}),n.once("value",function(e){var a=e.val();n.set(a>=0?a+1:1)})}},{key:"componentWillUnmount",value:function(){this.props.dispatchMenuCountLoggedInAction(this.numLoggedIn-1)}},{key:"render",value:function(){var e=this.props,n=e.classes,a=e.theme,t=e.runnerOnClick,r=e.raceOnClick,c=e.allRacesOnClick,o=e.calendarOnClick,s=e.loginOnClick,l=e.menuReducer,i=e.userReducer,u=e.loggedIn,p=l.menuOpen,f=l.count,m=i.userDetails?h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{color:"secondary"})},h.a.createElement(ae.a,{onClick:this.loggedInOnClick,className:n.loginIcon})):h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{color:"secondary"})},h.a.createElement(re.a,{onClick:s,className:n.logoutIcon})),v=f>1?h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{color:"secondary"})},h.a.createElement(ie,{count:f})):null,E=u?h.a.createElement(Y.a,{button:!0,key:"Login",onClick:s},h.a.createElement(W.a,null,h.a.createElement(oe.a,null)),h.a.createElement(K.a,{primary:"Login"})):null,k=u?null:h.a.createElement(Y.a,{button:!0,key:"Logout",onClick:this.loggedInOnClick,className:n.loggedOutOption},h.a.createElement(W.a,null,h.a.createElement(oe.a,null)),h.a.createElement(K.a,{primary:"Logout"}));return h.a.createElement("div",{className:n.root},h.a.createElement(x.a,null),h.a.createElement(w.a,{position:"fixed",className:y()(n.appBar,Object(b.a)({},n.appBarShift,p))},h.a.createElement(j.a,{disableGutters:p},h.a.createElement(A.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:y()(n.menuButton,p&&n.hide)},h.a.createElement(P.a,null))),v,m),h.a.createElement(R.a,{className:n.drawer,variant:"persistent",anchor:"left",open:p,classes:{paper:n.drawerPaper}},h.a.createElement("div",{className:n.drawerHeader},h.a.createElement(A.a,{onClick:this.handleDrawerClose},"ltr"===a.direction?h.a.createElement(z.a,null):h.a.createElement(F.a,null))),h.a.createElement(T.a,null),h.a.createElement(N.a,null,E,h.a.createElement(Y.a,{button:!0,key:"Runner",onClick:t},h.a.createElement(W.a,null,h.a.createElement(H.a,null)),h.a.createElement(K.a,{primary:"Runner"})),h.a.createElement(Y.a,{button:!0,key:"Race",onClick:r},h.a.createElement(W.a,null,h.a.createElement(V.a,null)),h.a.createElement(K.a,{primary:"Race"})),h.a.createElement(Y.a,{button:!0,key:"All Races",onClick:c},h.a.createElement(W.a,null,h.a.createElement(ee.a,null)),h.a.createElement(K.a,{primary:"All Races"})),h.a.createElement(Y.a,{button:!0,key:"Calendar",onClick:o},h.a.createElement(W.a,null,h.a.createElement(X.a,null)),h.a.createElement(K.a,{primary:"Calendar"}))),k,h.a.createElement("span",{className:n.appVersion},Se)))}}]),n}(h.a.Component),Le=Object(f.b)(function(e){return Object(t.a)({},e)},function(e){return{dispatchMenuToggleAction:function(n){return e(ke(n))},dispatchMenuCountLoggedInAction:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(n){n({type:ye.b,payload:e})}}(n))},dispatchMenuAction:function(n){return e(Ee(n))},dispatchLoginAction:function(n){return e(Ce(n))}}})(Object(E.withStyles)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(t.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},loginIcon:{position:"absolute",top:"24px",right:"10px","&:hover":{color:"red",cursor:"pointer"}},logoutIcon:{position:"absolute",top:"24px",right:"10px","&:hover":{color:"#4CAF50",cursor:"pointer"}},loggedOutOption:{position:"absolute",bottom:"30px"},appVersion:{position:"absolute",bottom:"10px",left:"48px"}}},{withTheme:!0})(h.a.memo(je))),Ne=a(371),De=a(375),Te=a(376),Ie=a.n(Te),Ae=(a(377),a(11)),Me=a(55),Pe=a(56),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n){n({type:Pe.a,payload:e})}},ze=a(5734),qe=a.n(ze);var Fe=Object(E.withStyles)(function(e){return{}})(function(){return h.a.createElement("span",null,h.a.createElement("br",null),h.a.createElement(qe.a,null),h.a.createElement("br",null),h.a.createElement(qe.a,{color:"secondary",variant:"query"}),h.a.createElement("br",null),h.a.createElement(qe.a,null))}),Je=a(176),Ye=a.n(Je),Ue=a(186),We=a.n(Ue);var Ge=Object(E.withStyles)(function(e){return{noRaces:{marginRight:"10px",marginLeft:"10px",marginTop:"5px",marginBottom:"5px"}}})(function(e){var n=e.classes;return h.a.createElement(Ye.a,{className:n.noRaces},h.a.createElement(We.a,{variant:"subheading"},"No race results found for this runner!"))}),Ke=a(378),_e=a.n(Ke),He=new(a(5753).AllHtmlEntities);function $e(e,n,a){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(o.a)(c.a.mark(function e(n,a,t){var r,o,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.join("$$"),o="search".concat(r),!(s=fe(o))){e.next=5;break}return e.abrupt("return",s);case 5:return l=null,e.next=8,_e.a.get("".concat("https://www.fellracefinder.xyz","/runner/").concat(r,"/").concat(a,"/").concat(t)).then(function(e){return l=e.data}).catch(function(e){console.log(e)});case 8:return he({key:o,value:l}),e.abrupt("return",l);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qe(e,n){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(o.a)(c.a.mark(function e(n,a){var t,r,o,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.join("$$"),r=a.replace("/","**"),r=He.encode(r),o=null,s="searchByRace".concat(t).concat(r),!(l=fe(s))){e.next=8;break}return e.abrupt("return",l);case 8:return e.next=10,_e.a.get("".concat("https://www.fellracefinder.xyz","/runnerByRace/").concat(t,"/").concat(r)).then(function(e){return o=e.data}).catch(function(e){console.log(e)});case 10:return he({key:s,value:o}),e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ze(e){var n="runnersList".concat(e),a=fe(n);if(a)return{options:a};var t="".concat("https://www.fellracefinder.xyz","/autocomplete/runner/").concat(e.toLowerCase());return fetch(t).then(function(e){return e.json()}).then(function(e){var a=[];return e.items.map(function(e){var n=!1;return a.map(function(a){return e.display===a.display&&(n=!0,!0)}),n||a.push(e),n}),he({key:n,value:a}),{options:a}})}function en(e){var n="raceSearch".concat(e),a=fe(n);if(a)return{options:a};var t="".concat("https://www.fellracefinder.xyz","/autocomplete/race/").concat(e.toLowerCase());return fetch(t).then(function(e){return e.json()}).then(function(e){var a=[];return e.map(function(e){var n=!1;return a.map(function(a){return e.display===a.display&&(n=!0,!0)}),n||a.push(e),n}),he({key:n,value:a}),{options:a}})}function nn(e){return an.apply(this,arguments)}function an(){return(an=Object(o.a)(c.a.mark(function e(n){var a,t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://www.fellracefinder.xyz","/race/byNames/").concat(n),t=null,e.next=4,_e.a.get(a).then(function(e){return t=e.data}).catch(function(e){console.log(e)});case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tn(){return rn.apply(this,arguments)}function rn(){return(rn=Object(o.a)(c.a.mark(function e(){var n,a,t,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="".concat("https://www.fellracefinder.xyz","/allraces"),a=null,!(r=fe(t="raceSearchAllRaces"))){e.next=6;break}return e.abrupt("return",r);case 6:return e.next=8,_e.a.get(n).then(function(e){return a=e.data}).catch(function(e){console.log(e)});case 8:return he({key:t,value:a}),e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cn(e){var n=e.split(" ").map(function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)," ")}),a="";return n.map(function(e){return a="".concat(a).concat(e)}),a}var on=h.a.lazy(function(){return a.e(6).then(a.bind(null,6041))}),sn=h.a.lazy(function(){return a.e(5).then(a.bind(null,6042))}),ln=h.a.lazy(function(){return a.e(7).then(a.bind(null,6043))}),un=h.a.lazy(function(){return a.e(19).then(a.bind(null,6044))}),pn=h.a.lazy(function(){return Promise.all([a.e(14),a.e(29)]).then(a.bind(null,6045))}),dn=h.a.lazy(function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,6046))}),hn=h.a.lazy(function(){return Promise.all([a.e(13),a.e(28)]).then(a.bind(null,6047))}),fn=h.a.lazy(function(){return a.e(18).then(a.bind(null,6048))}),mn=h.a.lazy(function(){return a.e(22).then(a.bind(null,6049))}),gn=function(e){return{searchField:{paddingBottom:"5px",paddingLeft:"5px",paddingRight:"5px",marginTop:"-5px",zIndex:"2"},search:{position:"sticky",backgroundColor:"white",zIndex:"2 !important",borderBottom:"1px solid #CCCCCC",top:"40px",paddingTop:"40px",borderTop:"1px solid #CCCCCC",paddingBottom:"2px"},progress:{margin:2*e.spacing.unit}}},bn="chosenRunners",vn=0,yn=function(e){function n(e){var a;return Object(s.a)(this,n),(a=Object(i.a)(this,Object(u.a)(n).call(this,e))).componentDidMount=function(){window.addEventListener("scroll",a.onScroll,!1);var e=be(bn);e&&(a.props.dispatchChosenRunners(e),a.onChange(e)),Ne.animateScroll.scrollTo(0)},a.componentWillUnmount=function(){window.removeEventListener("scroll",a.onScroll,!1)},a.shouldComponentUpdate=function(e,n){return!Ie.a.isEqual(a.props.classes,e.classes)||(!Ie.a.isEqual(a.props.dispatchChosenRace,e.dispatchChosenRace)||(!Ie.a.isEqual(a.props.dispatchChosenRunners,e.dispatchChosenRunners)||(!Ie.a.isEqual(a.props.dispatchEndIndex,e.dispatchEndIndex)||(!Ie.a.isEqual(a.props.dispatchLoadMoreProgress,e.dispatchLoadMoreProgress)||(!Ie.a.isEqual(a.props.dispatchLoadingProgress,e.dispatchLoadingProgress)||(!Ie.a.isEqual(a.props.dispatchRunnerDetails,e.dispatchRunnerDetails)||(!Ie.a.isEqual(a.props.dispatchSticky,e.dispatchSticky)||(!Ie.a.isEqual(a.props.menuReducer,e.menuReducer)||(!Ie.a.isEqual(a.props.raceReducer,e.raceReducer)||(!Ie.a.isEqual(a.props.runnerReducer,e.runnerReducer)||(!Ie.a.isEqual(a.props.scrollReducer,e.scrollReducer)||!Ie.a.isEqual(a.props.searchReducer,e.searchReducer))))))))))))},a.buildClearButton=function(){return h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:gn.prototypeprogress})},h.a.createElement(ln,{onClick:a.clearClick}))},a.onScroll=function(){window.scrollY>=165&&!a.props.scrollReducer.sticky?a.props.dispatchSticky(!0):window.scrollY<165&&a.props.scrollReducer.sticky&&a.props.dispatchSticky(!1)},a.scrollToTop=function(){Ne.animateScroll.scrollTo(170)},a.performSearch=function(){var e=Object(o.a)(c.a.mark(function e(n){var t,r,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=19;break}if(a.props.dispatchLoadingProgress(!0),a.props.dispatchRunnerDetails(null),a.props.dispatchChosenRace(""),t=a.props.searchReducer.endIndex,r="getRunner".concat(n).replace(" ",""),o=fe(r)){e.next=14;break}return e.next=10,$e(n,vn,t);case 10:s=e.sent,he({key:r,value:JSON.stringify(s)}),e.next=16;break;case 14:s=JSON.parse(o),me(r);case 16:a.props.dispatchRunnerDetails(s),a.props.dispatchLoadingProgress(!1),a.scrollToTop();case 19:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.searchForRunners=function(){var e=Object(o.a)(c.a.mark(function e(n,a){var t,r,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&n.length>0)){e.next=16;break}if(t=[],n.map(function(e){t.push(e.display)}),r="getRunners".concat(t.join("")).concat(vn).concat(a).replace(" ",""),o=fe(r)){e.next=13;break}return e.next=8,$e(t,vn,a);case 8:return s=e.sent,he({key:r,value:JSON.stringify(s)}),e.abrupt("return",s);case 13:s=JSON.parse(o),me(r);case 15:return e.abrupt("return",s);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}},e)}));return function(n,a){return e.apply(this,arguments)}}(),a.searchForRunnersByRace=function(){var e=Object(o.a)(c.a.mark(function e(n,a){var t,r,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&n.length>0)){e.next=16;break}if(t=[],n.map(function(e){t.push(e.display)}),r="getRunnersByRace".concat(t.join("")).concat(a).replace(" ",""),o=fe(r)){e.next=13;break}return e.next=8,Qe(t,a);case 8:return s=e.sent,he({key:r,value:JSON.stringify(s)}),e.abrupt("return",s);case 13:s=JSON.parse(o),me(r);case 15:return e.abrupt("return",s);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}},e)}));return function(n,a){return e.apply(this,arguments)}}(),a.handleClick=function(){var e=Object(o.a)(c.a.mark(function e(n){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""===(t=a.searchRunnerRef.value.trim())){e.next=8;break}if(cn(t)===a.state.runnerName){e.next=6;break}return e.next=6,a.performSearch(t);case 6:e.next=9;break;case 8:a.clearClick();case 9:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.clearClick=function(){a.props.dispatchLoadingProgress(!0),a.props.dispatchRunnerDetails(null),a.props.dispatchSticky(!1),a.props.dispatchChosenRunners([]),a.props.dispatchChosenRace(""),a.props.dispatchEndIndex(0),ve(bn),sessionStorage.clear(),a.props.dispatchLoadingProgress(!1),Ne.animateScroll.scrollToTop()},a.scrollToTopClick=function(e){e.preventDefault(),Ne.animateScroll.scrollToTop()},a.scrollToBottomClick=function(e){e.preventDefault(),Ne.animateScroll.scrollToBottom()},a.loadingProgress=function(){return h.a.createElement(Fe,null)},a.noResultsFound=function(){return h.a.createElement(Ge,null)},a.buildRaceResult=function(e){var n,a=e;return a&&a.length>0&&(a=a[0]),a.raceInfo&&(n=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:gn.progress})},h.a.createElement(dn,{raceInfo:a.raceInfo}))),h.a.createElement("div",{key:a.id},h.a.createElement("br",null),h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:gn.progress})},h.a.createElement(un,{race:a})),n,h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:gn.progress})},h.a.createElement(pn,{runner:a.runner})))},a.loadMoreOnClick=function(){var e=Object(o.a)(c.a.mark(function e(n){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t=a.props.searchReducer.chosenRunners,a.props.dispatchLoadMoreProgress(!0),e.next=5,a.onChange(t);case 5:a.props.dispatchLoadMoreProgress(!1);case 6:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.calculateNextEndIndex=function(e){var n=a.props.runnerReducer.runnerDetails,t=a.props.searchReducer,r=t.endIndex,c=t.chosenRunners;return 0===r?10:e.length===c.length?r+10>n.overallStats.noOfRaces?n.overallStats.noOfRaces:r+10:10},a.onChange=function(){var e=Object(o.a)(c.a.mark(function e(n){var t,r,o,s,l,i,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.runnerReducer.runnersDetails,r=a.props.searchReducer,o=r.chosenRunners,s=r.chosenRace,l=r.endIndex,!(n.length>0)){e.next=16;break}return a.props.dispatchLoadingProgress(!0),i=a.calculateNextEndIndex(n),e.next=7,a.searchForRunners(n,i);case 7:u=e.sent,Ie.a.isEqual(o,n)||a.props.dispatchChosenRunners(n),Ie.a.isEqual(t,u)||a.props.dispatchRunnerDetails(u),l!==i&&a.props.dispatchEndIndex(i),""!==s&&a.props.dispatchChosenRace(""),ge({key:bn,value:n}),a.props.dispatchLoadingProgress(!1),e.next=17;break;case 16:a.clearClick();case 17:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.fetchRunnerByRace=function(){var e=Object(o.a)(c.a.mark(function e(n,t){var r,o,s,l,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.runnerReducer.runnersDetails,o=a.props.searchReducer,s=o.chosenRace,l=o.chosenRunners,!(n.length>0)){e.next=13;break}return e.next=5,a.searchForRunnersByRace(n,t);case 5:i=e.sent,t!==s&&a.props.dispatchChosenRace(t),Ie.a.isEqual(n,l)||a.props.dispatchChosenRunners(n),Ie.a.isEqual(r,i)||a.props.dispatchRunnerDetails(i),ge({key:bn,value:n}),a.props.dispatchLoadingProgress(!1),e.next=14;break;case 13:a.clearClick();case 14:case"end":return e.stop()}},e)}));return function(n,a){return e.apply(this,arguments)}}(),a.fetchRunners=function(){var e=Object(o.a)(c.a.mark(function e(n,t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.props.dispatchLoadingProgress(!0),n||t(null,{options:[]}),!(n.length>2)){e.next=10;break}return e.t0=t,e.next=6,Ze(n);case 6:e.t1=e.sent,(0,e.t0)(null,e.t1),e.next=11;break;case 10:t(null,{options:[]});case 11:a.props.dispatchLoadingProgress(!1);case 12:case"end":return e.stop()}},e)}));return function(n,a){return e.apply(this,arguments)}}(),a.debouncedFetchRunners=Ie.a.debounce(a.fetchRunners,100),a.getRunners=function(e,n){if(!e||e.length<4)return n(null,{options:[]});a.debouncedFetchRunners(e,n)},a.handleChooseRaceChange=function(){var e=Object(o.a)(c.a.mark(function e(n){var t,r,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.searchReducer,r=t.chosenRunners,o=t.endIndex,s=n.target.value,a.props.dispatchLoadingProgress(!0),0!==o&&a.props.dispatchEndIndex(0),"all"!==s){e.next=9;break}return e.next=7,a.onChange(r);case 7:e.next=11;break;case 9:return e.next=11,a.fetchRunnerByRace(r,s);case 11:a.scrollToTop();case 12:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.populateOverallStats=function(){var e=a.props.runnerReducer.runnerDetails;return e.overallStats?h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:gn.progress})},h.a.createElement(fn,{overallStats:e.overallStats})):null},a.buildChosenRaceList=function(e,n){var t=[];e||(e="");var r=e.split("||");return r.length>1?r.map(function(e){for(var a=0;a<n.length;a++)n[a].name===e&&t.push(n[a])}):n&&(t=n),t.length>1&&(t=t.sort(function(e,n){return new Date(n.dateTime)-new Date(e.dateTime)})),t.map(function(e){return a.buildRaceResult(e)})},a.searchRunnerRef=h.a.createRef(),a}return Object(p.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e,n,a,t,r,c,o,s,l,i=this,u=this.props.classes,p=u.progress,f=u.searchField,m=u.search,b=this.props.searchReducer,v=b.loadingProgress,y=b.chosenRunners,E=b.chosenRace,k=b.loadMoreLoading,R=this.props.runnerReducer.runnerDetails,C=this.props.scrollReducer.sticky,x=C?m:"",O=this.props.searchReducer.endIndex;if(v&&(t=this.loadingProgress()),null!=R&&R.races&&R.races.length>0){e=this.buildClearButton(),n=this.populateOverallStats();var w=R.races;0===O&&(O=10),""===E?(a=w.map(function(e){return i.buildRaceResult(e)}),R.overallStats.noOfRaces>O&&(o=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:p})},h.a.createElement(mn,{onClick:this.loadMoreOnClick})))):(a=this.buildChosenRaceList(E,R.races)).length>O&&(o=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:p})},h.a.createElement(mn,{onClick:this.loadMoreOnClick}))),c=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:p})},h.a.createElement(hn,{raceNames:R.raceNames,chosenRace:E,onChange:this.handleChooseRaceChange})),k?(s=this.loadingProgress(),o=null,Ne.animateScroll.scrollMore(250)):(l=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:p})},h.a.createElement(sn,{onClick:this.scrollToBottomClick})),C&&(r=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:p})},h.a.createElement(on,{onClick:this.scrollToTopClick}))))}else null!=R&&0===R.races.length&&(a=this.noResultsFound());return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:x},h.a.createElement(De.a,{cacheOptions:!0,defaultOptions:!0,className:f,valueKey:"original",labelKey:"display",matchProp:"any",name:"runner-search-field",onChange:this.onChange,loadOptions:this.getRunners,placeholder:"Search Runner",noResultsText:"No runners found",value:y,multi:!0,ignoreAccents:!1}),c,e),l,t,n,a,s,o,r)}}]),n}(d.Component),En=Object(f.b)(function(e){return Object(t.a)({},e)},function(e){return{dispatchLoadingProgress:function(n){return e(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(n){n({type:Ae.e,payload:e})}}(n))},dispatchRunnerDetails:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(n){n({type:Me.a,payload:e})}}(n))},dispatchSticky:function(n){return e(Be(n))},dispatchChosenRunners:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){n({type:Ae.c,payload:e})}}(n))},dispatchChosenRace:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(n){n({type:Ae.b,payload:e})}}(n))},dispatchEndIndex:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(n){n({type:Ae.d,payload:e})}}(n))},dispatchLoadMoreProgress:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n){n({type:Ae.g,payload:e})}}(n))}}})(Object(E.withStyles)(gn)(h.a.memo(yn))),kn=a(59),Rn=a(236),Cn=a.n(Rn),xn=a(237),On=a.n(xn),wn=a(238),Sn=a.n(wn),jn=a(209),Ln=a.n(jn),Nn=a(33),Dn=h.a.lazy(function(){return a.e(6).then(a.bind(null,6041))}),Tn=h.a.lazy(function(){return a.e(5).then(a.bind(null,6042))}),In=h.a.lazy(function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,6046))}),An=h.a.lazy(function(){return a.e(7).then(a.bind(null,6043))}),Mn=h.a.lazy(function(){return a.e(15).then(a.bind(null,417))}),Pn=h.a.lazy(function(){return a.e(21).then(a.bind(null,6050))}),Bn=h.a.lazy(function(){return Promise.all([a.e(0),a.e(2),a.e(20)]).then(a.bind(null,6051))}),zn=h.a.lazy(function(){return Promise.all([a.e(1),a.e(3),a.e(24)]).then(a.bind(null,6052))}),qn=h.a.lazy(function(){return Promise.all([a.e(1),a.e(3),a.e(16)]).then(a.bind(null,6053))}),Fn=function(e){return{searchField:{paddingBottom:"5px",paddingLeft:"5px",paddingRight:"5px",marginTop:"-5px",zIndex:"2"},search:{position:"sticky",backgroundColor:"white",zIndex:"2 !important",borderBottom:"1px solid #CCCCCC",top:"40px",paddingTop:"40px",borderTop:"1px solid #CCCCCC",paddingBottom:"2px"},progress:{margin:2*e.spacing.unit},expansionPanel:{marginTop:"5px",marginBottom:"15px"}}},Jn="chosenRaces",Yn="directionsDestinationKey",Un="origin",Wn=function(e){function n(e){var a;return Object(s.a)(this,n),(a=Object(i.a)(this,Object(u.a)(n).call(this,e))).getOrigin=function(){var e,n=fe(Un);if(!n&&navigator.geolocation){var t=Object(kn.a)(a);navigator.geolocation.getCurrentPosition(function(n){e={lat:n.coords.latitude,lng:n.coords.longitude},he({key:Un,value:JSON.stringify(e)}),t.props.dispatchOrigin(e)})}else e=JSON.parse(n),a.props.dispatchOrigin(e)},a.componentDidMount=function(){window.addEventListener("scroll",a.onScroll,!1);var e=be(Jn);e&&(a.props.dispatchLoadingProgress(!0),a.props.dispatchChosenRace(e),a.onChange(e),a.props.dispatchLoadingProgress(!1)),a.getOrigin(),Ne.animateScroll.scrollTo(0)},a.componentWillUnmount=function(){window.removeEventListener("scroll",a.onScroll,!1)},a.shouldComponentUpdate=function(e,n){return!Ie.a.isEqual(a.props.classes,e.classes)||(!Ie.a.isEqual(a.props.dispatchChosenRace,e.dispatchChosenRace)||(!Ie.a.isEqual(a.props.dispatchLoadingProgress,e.dispatchLoadingProgress)||(!Ie.a.isEqual(a.props.dispatchRaceDetails,e.dispatchRaceDetails)||(!Ie.a.isEqual(a.props.dispatchSticky,e.dispatchSticky)||(!Ie.a.isEqual(a.props.menuReducer,e.menuReducer)||(!Ie.a.isEqual(a.props.raceReducer,e.raceReducer)||(!Ie.a.isEqual(a.props.scrollReducer,e.scrollReducer)||!Ie.a.isEqual(a.props.searchReducer,e.searchReducer))))))))},a.buildClearButton=function(){return h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:Fn.prototypeprogress})},h.a.createElement(An,{onClick:a.clearClick}))},a.onScroll=function(){window.scrollY>=165&&!a.props.scrollReducer.sticky?a.props.dispatchSticky(!0):window.scrollY<165&&a.props.scrollReducer.sticky&&a.props.dispatchSticky(!1)},a.scrollToTop=function(){Ne.animateScroll.scrollTo(170)},a.loadingProgress=function(){return h.a.createElement(Fe,null)},a.noResultsFound=function(){return h.a.createElement(Ge,null)},a.scrollToTopClick=function(e){e.preventDefault(),Ne.animateScroll.scrollToTop()},a.scrollToBottomClick=function(e){e.preventDefault(),Ne.animateScroll.scrollToBottom()},a.onChange=function(){var e=Object(o.a)(c.a.mark(function e(n){var t,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.raceReducer.raceDetails,r=a.props.searchReducer.chosenRaces,!(n.length>1)){e.next=6;break}return a.props.dispatchChosenRace(r),a.props.dispatchLoadingProgress(!1),e.abrupt("return");case 6:if(1!==n.length){e.next=17;break}return a.props.dispatchLoadingProgress(!0),e.next=10,a.searchForRaces(n);case 10:o=e.sent,Ie.a.isEqual(r,n)||a.props.dispatchChosenRace(n),Ie.a.isEqual(t,o)||a.props.dispatchRaceDetails(o),ge({key:Jn,value:n}),a.props.dispatchLoadingProgress(!1),e.next=18;break;case 17:a.clearClick();case 18:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.fetchRaces=function(){var e=Object(o.a)(c.a.mark(function e(n,t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.props.dispatchLoadingProgress(!0),n||t(null,{options:[]}),!(n.length>2)){e.next=10;break}return e.t0=t,e.next=6,en(n);case 6:e.t1=e.sent,(0,e.t0)(null,e.t1),e.next=11;break;case 10:t(null,{options:[]});case 11:a.props.dispatchLoadingProgress(!1);case 12:case"end":return e.stop()}},e)}));return function(n,a){return e.apply(this,arguments)}}(),a.debouncedFetchRaces=Ie.a.debounce(a.fetchRaces,200),a.getRaces=function(e,n){if(!e||e.length<3)return n(null,{options:[]});a.debouncedFetchRaces(e,n)},a.searchForRaces=function(){var e=Object(o.a)(c.a.mark(function e(n){var a,t,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=14;break}if(a="getRaces".concat(n[0].display).replace(" ",""),t=fe(a)){e.next=11;break}return e.next=6,nn(n[0].original);case 6:return r=e.sent,he({key:a,value:JSON.stringify(r)}),e.abrupt("return",r);case 11:r=JSON.parse(t),me(a);case 13:return e.abrupt("return",r);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.clearClick=function(){a.props.dispatchLoadingProgress(!0),a.props.dispatchSticky(!1),a.props.dispatchRaceDetails(null),a.props.dispatchChosenRace(null),ve(Jn),me(Yn),a.props.dispatchLoadingProgress(!1),Ne.animateScroll.scrollToTop()},a.buildRaceInfo=function(e){var n;return e&&(e._latitude>0&&delete e._latitude,n=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:Fn.progress})},h.a.createElement(In,{raceInfo:e}))),h.a.createElement("div",{key:e.id},n)},a.buildResultCategories=function(e,n){var a;return e&&(a=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:n.progress})},h.a.createElement(Mn,{categoryRecords:e}))),h.a.createElement(h.a.Fragment,null,h.a.createElement(Cn.a,{key:e.length,className:n.expansionPanel},h.a.createElement(On.a,{expandIcon:h.a.createElement(Ln.a,null)},h.a.createElement(We.a,{className:n.heading},h.a.createElement("b",null,"Overall"))),h.a.createElement(Sn.a,null,a)))},a.buildYearResultCategories=function(e){var n;return e&&(n=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:Fn.progress})},h.a.createElement(Pn,{races:e}),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null))),n},a.buildYearPerformanceGraph=function(e,n){var a=e.map(function(e){if(e.performance>0)return["".concat(e.year),"".concat(e.performance,"%")]}).filter(function(e){return void 0!==e});return h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:n})},h.a.createElement(Bn,{raceData:a}))},a.buildDownwardArrow=function(e){return h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:e})},h.a.createElement(Tn,{onClick:a.scrollToBottomClick}))},a.buildMapComponent=function(e,n,a){return h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:a})},h.a.createElement(zn,{destination:n,origin:e}))},a.buildSameDayRaces=function(e,n,a,t){return parseInt(n[0].date.substring(6,10))<(new Date).getFullYear()||!a||0===a.length?null:h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:t})},h.a.createElement(qn,{origin:e,races:a}))},a.searchRaceRef=h.a.createRef(),a}return Object(p.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e,n,a,t,r,c,o,s,l,i,u=this.props.classes,p=u.progress,f=u.searchField,m=u.search,b=this.props.searchReducer,v=b.loadingRaceProgress,y=b.chosenRaces,E=this.props.raceReducer,k=E.raceDetails,R=E.origin,C=this.props.scrollReducer.sticky,x=C?m:"";if(v&&(n=this.loadingProgress()),y&&y.length>0&&(e=this.buildClearButton()),k&&(a=this.buildRaceInfo(k.raceInfo),t=this.buildResultCategories(k.categoryRecords,this.props.classes),o=this.buildYearResultCategories(k.races),s=this.buildYearPerformanceGraph(k.races,p),c=this.buildDownwardArrow(p),R&&(i=this.buildSameDayRaces(R,k.races,k.racesSameDay,p)),R&&k.properties&&k.properties.latitude&&0!==k.properties.latitude)){var O={lat:k.properties.latitude,lng:k.properties.longitude};l=this.buildMapComponent(R,O,p)}return C&&(r=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,{className:p})},h.a.createElement(Dn,{onClick:this.scrollToTopClick}))),h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:x},h.a.createElement(De.a,{cacheOptions:!0,defaultOptions:!0,className:f,valueKey:"original",labelKey:"display",matchProp:"any",name:"race-search-field",onChange:this.onChange,loadOptions:this.getRaces,placeholder:"Search Race",noResultsText:"No race found",value:y,multi:!0,ignoreAccents:!1}),e),n,a,l,i,s,t,o,c,r)}}]),n}(d.Component),Gn=Object(f.b)(function(e){return Object(t.a)({},e)},function(e){return{dispatchLoadingProgress:function(n){return e(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(n){n({type:Ae.f,payload:e})}}(n))},dispatchChosenRace:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){n({type:Ae.a,payload:e})}}(n))},dispatchRaceDetails:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(n){n({type:Nn.b,payload:e})}}(n))},dispatchSticky:function(n){return e(Be(n))},dispatchOrigin:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(n){n({type:Nn.c,payload:e})}}(n))}}})(Object(E.withStyles)(Fn)(h.a.memo(Wn))),Kn=a(217),_n=a.n(Kn),Hn=a(239),$n=a.n(Hn),Vn=a(218),Qn=a.n(Vn),Xn=a(219),Zn=a.n(Xn),ea=a(220),na=a.n(ea);var aa=Object(E.withStyles)({})(h.a.memo(function(e){var n=e.racesList;return h.a.createElement("div",null,h.a.createElement(_n.a,{"aria-label":"Races table"},h.a.createElement($n.a,null,h.a.createElement(Qn.a,null,h.a.createElement(Zn.a,null,"Name"),h.a.createElement(Zn.a,null,"Result"),h.a.createElement(Zn.a,{align:"left"},"Date"),h.a.createElement(Zn.a,{align:"left"},"Time"))),h.a.createElement(na.a,null,n.map(function(e){return h.a.createElement(Qn.a,{key:e.name},h.a.createElement(Zn.a,{component:"th",scope:"row"},h.a.createElement("a",{href:"https://fellrunner.org.uk/races.php?id="+e.id,target:"blank"},e.name)),h.a.createElement(Zn.a,{align:"left"},h.a.createElement("a",{href:"https://fellrunner.org.uk/results-search.php?q="+e.name,target:"blank"},"results")),h.a.createElement(Zn.a,{align:"left"},e.date),h.a.createElement(Zn.a,{align:"left"},e.time))}))))})),ta=function(e){function n(){var e,a;Object(s.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).componentDidMount=Object(o.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.props,e.next=3,tn();case 3:e.t1=e.sent,e.t0.dispatchAllRacesAction.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e)})),a}return Object(p.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.props.raceReducer,n=e.races.length>0?h.a.createElement(d.Suspense,{fallback:h.a.createElement(Fe,null)},h.a.createElement(aa,{racesList:e.races})):h.a.createElement(Fe,null);return h.a.createElement(h.a.Fragment,null,n)}}]),n}(d.Component),ra=Object(f.b)(function(e){return Object(t.a)({},e)},function(e){return{dispatchAllRacesAction:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){n({type:Nn.a,payload:e})}}(n))}}})(Object(E.withStyles)(function(e){return{}})(h.a.memo(ta))),ca=a(5766),oa=a.n(ca),sa=function(e){function n(){var e,a;Object(s.a)(this,n);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).facebookLoginResponse=function(e){var n={provider:"facebook",details:e};ge({key:we,value:n}),a.props.dispatchLoginAction(n);var t=be(Oe);if(t){var r="race"===t,c="runner"===t,o="calendar"===t,s="allraces"===t;a.props.dispatchMenuAction({race:r,runner:c,calendar:o,allRaces:s,login:!1})}else a.props.dispatchMenuAction({race:!1,runner:!1,calendar:!0,allRaces:!1,login:!1})},a.componentWillMount=function(){var e=be(we);e&&a.props.dispatchLoginAction(e)},a}return Object(p.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,null)},h.a.createElement(oa.a,{appId:"671147657003053",fields:"name,picture",callback:this.facebookLoginResponse}),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null)))}}]),n}(d.Component),la=Object(f.b)(function(e){return Object(t.a)({},e)},function(e){return{dispatchMenuAction:function(n){return e(Ee(n))},dispatchLoginAction:function(n){return e(Ce(n))}}})(Object(E.withStyles)(function(e){return{}})(h.a.memo(sa))),ia=a(57);function ua(){return pa.apply(this,arguments)}function pa(){return(pa=Object(o.a)(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,_e.a.get("".concat("https://www.fellracefinder.xyz","/calendarEvents")).then(function(e){var a=function(e){var n=Date.parse(e);return isNaN(n)};n=[];for(var t=0;t<e.data.length;t++)if(!a(e.data[t].start)&&!a(e.data[t].end)){var r=new Date(Date.parse(e.data[t].start)),c=new Date(Date.parse(e.data[t].end));n.push({id:e.data[t].id,title:e.data[t].title,start:r,end:c,short:e.data[t].short,medium:e.data[t].medium,long:e.data[t].long,cancelled:e.data[t].cancelled,postponed:e.data[t].postponed,url:e.data[t].url})}return n}).catch(function(e){console.log(e)});case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var da=h.a.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(12),a.e(27)]).then(a.bind(null,6040))}),ha={race:"race",runner:"runner",calendar:"calendar",allraces:"allraces",login:"login"},fa=function(e){function n(){var e,a;Object(s.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).calendarMenuOption=function(){ge({key:xe,value:ha.calendar}),ge({key:Oe,value:ha.calendar}),a.props.dispatchMenuAction({race:!1,runner:!1,calendar:!0,allRaces:!1,login:!1}),a.props.dispatchMenuToggleAction(!1)},a.raceOnClick=function(){var e=Object(o.a)(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),ge({key:xe,value:ha.race}),ge({key:Oe,value:ha.race}),a.props.dispatchMenuAction({race:!0,runner:!1,calendar:!1,allRaces:!1,login:!1}),a.props.dispatchMenuToggleAction(!1);case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.runnerOnClick=function(){var e=Object(o.a)(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),ge({key:xe,value:ha.runner}),ge({key:Oe,value:ha.runner}),a.props.dispatchMenuAction({race:!1,runner:!0,calendar:!1,allRaces:!1,login:!1}),a.props.dispatchMenuToggleAction(!1);case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.allRacesOnClick=function(){var e=Object(o.a)(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),ge({key:xe,value:ha.allraces}),ge({key:Oe,value:ha.allraces}),a.props.dispatchMenuAction({race:!1,runner:!1,calendar:!1,allRaces:!0,login:!1}),a.props.dispatchMenuToggleAction(!1);case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.calendarOnClick=function(){var e=Object(o.a)(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),a.calendarMenuOption();case 2:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.loginOnClick=function(){var e=Object(o.a)(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),ge({key:xe,value:ha.login}),a.props.dispatchMenuAction({race:!1,runner:!1,calendar:!1,allRaces:!1,login:!0}),a.props.dispatchMenuToggleAction(!1);case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a}return Object(p.a)(n,e),Object(l.a)(n,[{key:"componentWillMount",value:function(){var e=be(xe),n=be(we);if(e&&(e===ha.race&&this.props.dispatchMenuAction({race:!0,runner:!1,calendar:!1,allRaces:!1,login:!1}),e===ha.runner&&this.props.dispatchMenuAction({race:!1,runner:!0,calendar:!1,allRaces:!1,login:!1}),e===ha.calendar&&this.props.dispatchMenuAction({race:!1,runner:!1,calendar:!0,allRaces:!1,login:!1}),e===ha.allraces&&this.props.dispatchMenuAction({race:!1,runner:!1,calendar:!1,allRaces:!0,login:!1}),e===ha.login&&this.props.dispatchMenuAction({race:!1,runner:!1,calendar:!1,allRaces:!1,login:!0}),this.props.dispatchMenuToggleAction(!1)),n){var a=n.details.data_access_expiration_time;parseInt((new Date).getTime().toString().substr(0,10))>=a?(ve(we),this.props.dispatchLoginAction(null)):this.props.dispatchLoginAction(n),ge({key:xe,value:ha.login})}this.calendarMenuOption()}},{key:"componentDidMount",value:function(){var e=Object(o.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.props,e.next=3,ua();case 3:e.t1=e.sent,e.t0.dispatchCalendarEventsAction.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,n=this.props.menuReducer,a=n.race,t=n.runner,r=n.calendar,c=n.allRaces,o=n.login,s=this.props.calendarReducer.events,l=!this.props.userReducer.userDetails,i=!1;return a||r||!t||c||o||(e=h.a.createElement(En,null)),!a||r||t||c||o||(e=h.a.createElement(Gn,null)),a||r||t||!c||o||(e=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,null)},h.a.createElement(ra,null))),!s||a||!r||t||c||o||(e=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,null)},h.a.createElement(da,{events:s}))),a||r||t||c||!o||(e=h.a.createElement(d.Suspense,{fallback:h.a.createElement(g.a,null)},h.a.createElement(la,null))),(a||t||r||c||o)&&(i=!0),h.a.createElement(h.a.Fragment,null,h.a.createElement(Le,{raceOnClick:this.raceOnClick,runnerOnClick:this.runnerOnClick,allRacesOnClick:this.allRacesOnClick,calendarOnClick:this.calendarOnClick,loginOnClick:this.loginOnClick,closeMenu:i,loggedIn:l}),e)}}]),n}(d.PureComponent);n.default=Object(f.b)(function(e){return Object(t.a)({},e)},function(e){return{dispatchMenuAction:function(n){return e(Ee(n))},dispatchMenuToggleAction:function(n){return e(ke(n))},dispatchCalendarEventsAction:function(n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(n){n({type:ia.a,payload:e})}}(n))},dispatchLoginAction:function(n){return e(Ce(n))}}})(fa)}}]);
//# sourceMappingURL=30.e74cf53b.chunk.js.map