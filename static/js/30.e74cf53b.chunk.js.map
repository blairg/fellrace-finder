{"version":3,"sources":["components/UsersOnline.js","utils/firebase.js","service/storageService.js","actions/menu.js","actions/user.js","utils/cacheKeys.js","components/MenuBar.js","actions/scroll.js","components/LoadingProgress.js","components/NoResults.js","service/searchService.js","utils/stringUtils.js","containers/Runner.js","actions/search.js","actions/runner.js","containers/Race.js","actions/race.js","components/RacesList.js","containers/RaceList.js","containers/User.js","service/calendarService.js","containers/Main.js","actions/calendar.js"],"names":["withStyles","theme","scrollToBottomButton","margin","spacing","unit","position","bottom","left","zIndex","numLoggedInContainer","top","right","numLoggedInCount","paddingRight","React","memo","props","classes","count","react_default","a","createElement","className","People_default","color","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","setSession","_ref","key","value","sessionStorage","setItem","JSON","stringify","getSession","getItem","parse","removeSession","removeItem","setLocal","_ref2","localStorage","getLocal","removeLocal","menuAction","details","arguments","length","undefined","dispatch","type","MENU_ACTION","payload","menuToggleAction","MENU_TOGGLE_ACTION","loginAction","userDetails","USER_LOGGED_IN","MENU_CHOICE","PREVIOUS_MENU_CHOICE","USER_LOGIN","version","concat","process","MenuBar","numLoggedIn","handleDrawerOpen","_this","dispatchMenuToggleAction","handleDrawerClose","loggedInOnClick","window","confirm","dispatchLoginAction","_this2","this","itemsRef","Firebase","database","ref","on","snapshot","val","dispatchMenuCountLoggedInAction","onDisconnect","set","once","_this$props","runnerOnClick","raceOnClick","allRacesOnClick","calendarOnClick","loginOnClick","menuReducer","userReducer","loggedIn","menuOpen","loggedInIcon","react","fallback","CircularProgress_default","Brightness1_default","onClick","loginIcon","PanoramaFishEye_default","logoutIcon","numberLoggedIn","components_UsersOnline","loggedInMenuOption","ListItem_default","button","ListItemIcon_default","PermIdentity_default","ListItemText_default","primary","loggedOutMenuOption","loggedOutOption","root","CssBaseline_default","AppBar_default","classNames","appBar","Object","defineProperty","appBarShift","Toolbar_default","disableGutters","IconButton_default","aria-label","menuButton","hide","Menu_default","Drawer_default","drawer","variant","anchor","open","paper","drawerPaper","drawerHeader","direction","ChevronLeft_default","ChevronRight_default","Divider_default","List_default","DirectionsRun_default","EventSeat_default","AssistantPhoto_default","DateRange_default","appVersion","Component","connect","state","objectSpread","MENU_COUNT_LOGGED_IN","menuCountLoggedInAction","dispatchMenuAction","menu","display","transition","transitions","create","easing","sharp","duration","leavingScreen","width","marginLeft","easeOut","enteringScreen","marginRight","flexShrink","alignItems","padding","mixins","toolbar","justifyContent","content","flexGrow","contentShift","&:hover","cursor","withTheme","stickyAction","sticky","STICKY_ACTION","LinearProgress_default","noRaces","marginTop","marginBottom","Paper_default","Typography_default","entities","AllHtmlEntities","search","_x","_x2","_x3","_search","apply","_callee","runnerNames","startIndex","endIndex","runnersNamedJoined","cacheKey","runnersInSessionStorage","races","regenerator_default","wrap","_context","prev","next","join","abrupt","axios","get","then","response","data","catch","error","console","log","stop","searchByRace","_x4","_x5","_searchByRace","_callee2","raceNames","encodedRaceNames","racesInSessionStorage","_context2","replace","encode","partialSearch","partialName","options","url","toLowerCase","fetch","json","runnersList","items","map","runner","found","runnerAdded","push","partialRaceSearch","raceList","race","raceAdded","getRaceInfoByNames","_x6","_getRaceInfoByNames","_callee3","_context3","getAllRaces","_getAllRaces","_callee4","_context4","upperCaseWords","sentence","sentenceParts","split","word","charAt","toUpperCase","slice","sentenceToReturn","part","ArrowUpwardButton","lazy","__webpack_require__","e","bind","ArrowDownwardButton","ClearButton","RaceDetails","RunnerDetails","Promise","all","RaceInfo","RaceDropDown","OverallStats","LoadMoreButton","styles","searchField","paddingBottom","paddingLeft","backgroundColor","borderBottom","paddingTop","borderTop","progress","chosenRunnersKey","Runner","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","addEventListener","onScroll","namesSet","dispatchChosenRunners","onChange","scroll","scrollTo","componentWillUnmount","removeEventListener","shouldComponentUpdate","nextProps","nextState","_","isEqual","dispatchChosenRace","dispatchEndIndex","dispatchLoadMoreProgress","dispatchLoadingProgress","dispatchRunnerDetails","dispatchSticky","raceReducer","runnerReducer","scrollReducer","searchReducer","buildClearButton","prototypeprogress","clearClick","scrollY","scrollToTop","performSearch","asyncToGenerator","mark","runnerName","runnerInStorage","result","sent","searchForRunners","runners","newEndIndex","names","runnersInStorage","runnersDetails","eachRunner","searchForRunnersByRace","_ref3","handleClick","_ref4","event","searchValue","preventDefault","searchRunnerRef","trim","clear","scrollToTopClick","scrollToBottomClick","scrollToBottom","loadingProgress","components_LoadingProgress","noResultsFound","components_NoResults","buildRaceResult","raceInfo","raceResult","id","loadMoreOnClick","_ref5","_callee5","chosenRunners","_context5","_x7","calculateNextEndIndex","runnerDetails","_this$props$searchRed","overallStats","noOfRaces","_ref6","_callee6","_this$props$searchRed2","chosenRace","runnersDetailsResult","_context6","_x8","fetchRunnerByRace","_ref7","_callee7","chosenRaceParam","_this$props$searchRed3","_context7","_x9","_x10","fetchRunners","_ref8","_callee8","callback","_context8","t0","t1","_x11","_x12","debouncedFetchRunners","debounce","getRunners","handleChooseRaceChange","_ref9","_callee9","_this$props$searchRed4","_context9","target","_x13","populateOverallStats","buildChosenRaceList","filteredRaces","listOfChosenRaces","eachChosenRace","i","name","sort","b","Date","dateTime","createRef","clearButton","raceResults","loadingResults","scrollToTopButton","racesSelect","loadMoreButton","loadMoreLoadingProgress","downwardArrowButtonShow","_this$props$classes","_this$props$searchRed5","loadMoreLoading","searchClass","racesForRunner","scrollMore","Fragment","react_select_es","cacheOptions","defaultOptions","valueKey","labelKey","matchProp","loadOptions","placeholder","noResultsText","multi","ignoreAccents","LOADING_PROGRESS_ACTION","loadingProgressAction","RUNNER_DETAILS_ACTION","runnerDetailsAction","CHOSEN_RUNNERS_ACTION","chosenRunnersAction","CHOSEN_RACE_ACTION","chosenRaceAction","END_INDEX_ACTION","endIndexAction","loadMoreProgress","LOAD_MORE_PROGRESS_ACTION","loadMoreProgressAction","ResultCategory","YearResultCategory","RacePerformancePanel","MapComponent","SameDayRaces","expansionPanel","chosenRacesKey","directionsDestinationKey","originKey","Race","getOrigin","origin","cachedOrigin","navigator","geolocation","self","assertThisInitialized","getCurrentPosition","lat","coords","latitude","lng","longitude","dispatchOrigin","racesSet","dispatchRaceDetails","Race_ClearButton","raceDetails","chosenRaces","raceDetailsResult","searchForRaces","fetchRaces","debouncedFetchRaces","getRaces","raceInStorage","original","buildRaceInfo","raceInfoComponent","_latitude","Race_RaceInfo","buildResultCategories","categoryRecords","resultCategoryComponent","ExpansionPanel_default","ExpansionPanelSummary_default","expandIcon","ExpandMore_default","heading","ExpansionPanelDetails_default","buildYearResultCategories","yearResultsComponent","buildYearPerformanceGraph","progressClass","performanceData","performance","year","filter","raceData","buildDownwardArrow","Race_ArrowDownwardButton","buildMapComponent","destination","buildSameDayRaces","sameDayRaces","parseInt","date","substring","getFullYear","searchRaceRef","racePerformancePanelComponent","mapDirectionComponent","sameDayRacesComponent","loadingRaceProgress","_this$props$raceReduc","racesSameDay","properties","Race_ArrowUpwardButton","LOADING_PROGRESS_RACE_ACTION","loadingProgressRaceAction","CHOSEN_RACES_ACTION","chosenRacesAction","RACE_DETAILS_ACTION","raceDetailsAction","USER_ORIGIN_ACTION","userOriginAction","racesList","Table_default","TableHead_default","TableRow_default","TableCell_default","align","TableBody_default","row","component","scope","href","time","RaceList","dispatchAllRacesAction","raceListComponent","components_RacesList","ALL_RACES_ACTION","allRacesAction","User","facebookLoginResponse","provider","previousMenuOption","calendar","allRaces","login","componentWillMount","facebook_login_with_button_default","fields","getEvents","_getEvents","events","isValidDate","dateValue","timestamp","isNaN","start","end","startDate","endDate","title","short","medium","long","cancelled","postponed","RaceCalendar","menuCacheValues","allraces","Main","calendarMenuOption","menuCachedValue","loggedInCacheValue","expiryTime","data_access_expiration_time","getTime","toString","substr","dispatchCalendarEventsAction","menuOption","_this$props$menuReduc","calendarReducer","userLoggedIn","hasUserSelectedMenuOption","containers_Runner","containers_Race","containers_RaceList","containers_User","components_MenuBar","closeMenu","PureComponent","CALENDAR_EVENTS_ACTION","eventsAction"],"mappings":"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","file":"static/js/30.e74cf53b.chunk.js","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport PeopleIcon from \"@material-ui/icons/People\";\n\nconst styles = theme => ({\n  scrollToBottomButton: {\n    margin: theme.spacing.unit,\n    position: \"fixed\",\n    bottom: \"5px\",\n    left: \"1%\",\n    zIndex: \"1\"\n  },\n  numLoggedInContainer: {\n    position: \"absolute\",\n    top: \"23px\",\n    right: \"40px\"\n  },\n  numLoggedInCount: {\n    position: \"relative\",\n    top: \"-5px\",\n    paddingRight: \"3px\"\n  }\n});\n\nfunction UsersOnline(props) {\n  const { classes, count } = props;\n\n  return (\n    <span className={classes.numLoggedInContainer}>\n      <span className={classes.numLoggedInCount}>{count}</span>\n      <span>\n        <PeopleIcon color=\"secondary\" />\n      </span>\n    </span>\n  );\n}\n\nexport default withStyles(styles)(React.memo(UsersOnline));\n","import firebase from \"firebase\";\n\nconst config = {\n  apiKey: \"AIzaSyBYNQXBXYEG9NJeqyLWyM43pW05NTSWk6k\",\n  authDomain: \"fellrace-finder-firebase.firebaseapp.com\",\n  databaseURL: \"https://fellrace-finder-firebase.firebaseio.com\",\n  projectId: \"fellrace-finder-firebase\",\n  storageBucket: \"fellrace-finder-firebase.appspot.com\",\n  messagingSenderId: \"692653450207\",\n  appId: \"1:692653450207:web:184102062e250c3439da6a\",\n  measurementId: \"G-LQ5FZYHYN6\"\n};\n\nfirebase.initializeApp(config);\n\nexport default firebase;\n","export function setSession({ key, value }) {\n  if (value !== 'null') {\n    sessionStorage.setItem(key, JSON.stringify(value));\n  }\n}\n\nexport function getSession(key) {\n  const value = sessionStorage.getItem(key);\n\n  if (value) {\n    return JSON.parse(value);\n  }\n\n  return value;\n}\n\nexport function removeSession(key) {\n  if (key) {\n    sessionStorage.removeItem(key);\n  }\n}\n\nexport function removeAllSession() {\n  sessionStorage.clear();\n}\n\nexport function setLocal({ key, value }) {\n  if (value !== 'null') {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n}\n\nexport function getLocal(key) {\n  const value = localStorage.getItem(key);\n\n  if (value) {\n    return JSON.parse(value);\n  }\n\n  return value;\n}\n\nexport function removeLocal(key) {\n  if (key) {\n    localStorage.removeItem(key);\n  }\n}\n\nexport function removeAllLocal() {\n  localStorage.clear();\n}\n","import {\n  MENU_ACTION,\n  MENU_TOGGLE_ACTION,\n  MENU_COUNT_LOGGED_IN\n} from \"./../actionTypes/menu\";\n\nexport const menuAction = (details = null) => dispatch => {\n  dispatch({\n    type: MENU_ACTION,\n    payload: details\n  });\n};\n\nexport const menuToggleAction = (details = null) => dispatch => {\n  dispatch({\n    type: MENU_TOGGLE_ACTION,\n    payload: details\n  });\n};\n\nexport const menuCountLoggedInAction = (count = 0) => dispatch => {\n  dispatch({\n    type: MENU_COUNT_LOGGED_IN,\n    payload: count\n  });\n};\n","import { USER_LOGGED_IN } from \"./../actionTypes/user\";\n\nexport const loginAction = (userDetails = null) => dispatch => {\n  dispatch({\n    type: USER_LOGGED_IN,\n    payload: userDetails\n  });\n};\n","export const MENU_CHOICE = \"MainMenuOption\";\nexport const PREVIOUS_MENU_CHOICE = \"MainMenuPreviousOption\";\nexport const USER_LOGIN = \"UserLogin\";\n","import React, { Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport DirectionsRunIcon from \"@material-ui/icons/DirectionsRun\";\nimport EventSeatIcon from \"@material-ui/icons/EventSeat\";\nimport DateRangeIcon from \"@material-ui/icons/DateRange\";\nimport AssistantPhotoIcon from \"@material-ui/icons/AssistantPhoto\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Brightness1Icon from \"@material-ui/icons/Brightness1\";\nimport PanoramaFishEye from \"@material-ui/icons/PanoramaFishEye\";\nimport PermIdentityIcon from \"@material-ui/icons/PermIdentity\";\n\nimport UsersOnline from \"./UsersOnline\";\nimport Firebase from \"../utils/firebase\";\nimport { removeLocal } from \"./../service/storageService\";\nimport {\n  menuToggleAction,\n  menuCountLoggedInAction,\n  menuAction\n} from \"./../actions/menu\";\nimport { loginAction } from \"./../actions/user\";\nimport { USER_LOGIN } from \"./../utils/cacheKeys\";\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\"\n  },\n  appBar: {\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginLeft: 12,\n    marginRight: 20\n  },\n  hide: {\n    display: \"none\"\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n    justifyContent: \"flex-end\"\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing.unit * 3,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  },\n  loginIcon: {\n    position: \"absolute\",\n    top: \"24px\",\n    right: \"10px\",\n    \"&:hover\": {\n      color: \"red\",\n      cursor: \"pointer\"\n    }\n  },\n  logoutIcon: {\n    position: \"absolute\",\n    top: \"24px\",\n    right: \"10px\",\n    \"&:hover\": {\n      color: \"#4CAF50\",\n      cursor: \"pointer\"\n    }\n  },\n  loggedOutOption: {\n    position: \"absolute\",\n    bottom: \"30px\"\n  },\n  appVersion: {\n    position: \"absolute\",\n    bottom: \"10px\",\n    left: \"48px\"\n  }\n});\n\nconst devMode = process.env.REACT_APP_DEV_MODE === \"true\" ? \"dev\" : \"prod\";\nconst version = `App Version: ${process.env.REACT_APP_VERSION}`;\n\nclass MenuBar extends React.Component {\n  numLoggedIn = 0;\n\n  componentDidMount() {\n    const itemsRef = Firebase.database().ref(`${devMode}/usersLoggedIn/count`);\n\n    itemsRef.on(\"value\", snapshot => {\n      const count = snapshot.val();\n      this.numLoggedIn = count;\n      this.props.dispatchMenuCountLoggedInAction(count);\n      itemsRef.onDisconnect().set(count > 0 ? count - 1 : 0);\n    });\n\n    itemsRef.once(\"value\", snapshot => {\n      const count = snapshot.val();\n      itemsRef.set(count >= 0 ? count + 1 : 1);\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.dispatchMenuCountLoggedInAction(this.numLoggedIn - 1);\n  }\n\n  handleDrawerOpen = () => {\n    this.props.dispatchMenuToggleAction(true);\n  };\n\n  handleDrawerClose = () => {\n    this.props.dispatchMenuToggleAction(false);\n  };\n\n  loggedInOnClick = () => {\n    if (window.confirm(\"Do you want to logout?\")) {\n      this.props.dispatchLoginAction(null);\n      removeLocal(USER_LOGIN);\n      this.props.dispatchMenuToggleAction(false);\n    }\n  };\n\n  render() {\n    const {\n      classes,\n      theme,\n      runnerOnClick,\n      raceOnClick,\n      allRacesOnClick,\n      calendarOnClick,\n      loginOnClick,\n      menuReducer,\n      userReducer,\n      loggedIn\n    } = this.props;\n    const { menuOpen, count } = menuReducer;\n    const { userDetails } = userReducer;\n    const loggedInIcon = !userDetails ? (\n      <Suspense fallback={<CircularProgress color=\"secondary\" />}>\n        <PanoramaFishEye\n          onClick={loginOnClick}\n          className={classes.logoutIcon}\n        />\n      </Suspense>\n    ) : (\n      <Suspense fallback={<CircularProgress color=\"secondary\" />}>\n        <Brightness1Icon\n          onClick={this.loggedInOnClick}\n          className={classes.loginIcon}\n        />\n      </Suspense>\n    );\n    const numberLoggedIn =\n      count > 1 ? (\n        <Suspense fallback={<CircularProgress color=\"secondary\" />}>\n          <UsersOnline count={count} />\n        </Suspense>\n      ) : null;\n    const loggedInMenuOption = loggedIn ? (\n      <ListItem button key=\"Login\" onClick={loginOnClick}>\n        <ListItemIcon>\n          <PermIdentityIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Login\" />\n      </ListItem>\n    ) : null;\n    const loggedOutMenuOption = !loggedIn ? (\n      <ListItem\n        button\n        key=\"Logout\"\n        onClick={this.loggedInOnClick}\n        className={classes.loggedOutOption}\n      >\n        <ListItemIcon>\n          <PermIdentityIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Logout\" />\n      </ListItem>\n    ) : null;\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar\n          position=\"fixed\"\n          className={classNames(classes.appBar, {\n            [classes.appBarShift]: menuOpen\n          })}\n        >\n          <Toolbar disableGutters={menuOpen}>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"Open drawer\"\n              onClick={this.handleDrawerOpen}\n              className={classNames(\n                classes.menuButton,\n                menuOpen && classes.hide\n              )}\n            >\n              <MenuIcon />\n            </IconButton>\n          </Toolbar>\n          {numberLoggedIn}\n          {loggedInIcon}\n        </AppBar>\n        <Drawer\n          className={classes.drawer}\n          variant=\"persistent\"\n          anchor=\"left\"\n          open={menuOpen}\n          classes={{\n            paper: classes.drawerPaper\n          }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={this.handleDrawerClose}>\n              {theme.direction === \"ltr\" ? (\n                <ChevronLeftIcon />\n              ) : (\n                <ChevronRightIcon />\n              )}\n            </IconButton>\n          </div>\n          <Divider />\n          <List>\n            {loggedInMenuOption}\n            <ListItem button key=\"Runner\" onClick={runnerOnClick}>\n              <ListItemIcon>\n                <DirectionsRunIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Runner\" />\n            </ListItem>\n            <ListItem button key=\"Race\" onClick={raceOnClick}>\n              <ListItemIcon>\n                <EventSeatIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Race\" />\n            </ListItem>\n            <ListItem button key=\"All Races\" onClick={allRacesOnClick}>\n              <ListItemIcon>\n                <AssistantPhotoIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"All Races\" />\n            </ListItem>\n            {/* <ListItem button key='Club'>\n                <ListItemIcon><MapIcon /></ListItemIcon>\n                <ListItemText primary='Club' />\n        </ListItem> */}\n            <ListItem button key=\"Calendar\" onClick={calendarOnClick}>\n              <ListItemIcon>\n                <DateRangeIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Calendar\" />\n            </ListItem>\n          </List>\n          {loggedOutMenuOption}\n          <span className={classes.appVersion}>{version}</span>\n        </Drawer>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchMenuToggleAction: menuOpen => dispatch(menuToggleAction(menuOpen)),\n  dispatchMenuCountLoggedInAction: count =>\n    dispatch(menuCountLoggedInAction(count)),\n  dispatchMenuAction: menu => dispatch(menuAction(menu)),\n  dispatchLoginAction: userDetails => dispatch(loginAction(userDetails))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles, { withTheme: true })(React.memo(MenuBar)));\n","import {\n    STICKY_ACTION,\n} from './../actionTypes/scroll';\n\nexport const stickyAction = (sticky = false) => dispatch => {\n    dispatch({\n        type: STICKY_ACTION,\n        payload: sticky,\n    });\n};","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst styles = theme => ({});\n\nfunction LoadingProgress() {\n  return (\n    <span>\n      <br />\n      <LinearProgress />\n      <br />\n      <LinearProgress color=\"secondary\" variant=\"query\" />\n      <br />\n      <LinearProgress />\n    </span>\n  );\n}\n\nexport default withStyles(styles)(LoadingProgress);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n  noRaces: {\n    marginRight: '10px',\n    marginLeft: '10px',\n    marginTop: '5px',\n    marginBottom: '5px',\n  },\n});\n\nfunction NoResults(props) {\n  const { classes } = props;\n\n  return (\n    <Paper className={classes.noRaces}>\n      <Typography variant=\"subheading\">\n        No race results found for this runner!\n      </Typography>\n    </Paper>\n  );\n}\n\nexport default withStyles(styles)(NoResults);\n","import axios from \"axios\";\nimport { AllHtmlEntities } from \"html-entities\";\n\nimport { getSession, setSession } from \"./storageService\";\n\nconst entities = new AllHtmlEntities();\n\nexport async function search(runnerNames, startIndex, endIndex) {\n  const runnersNamedJoined = runnerNames.join(\"$$\");\n  const cacheKey = `search${runnersNamedJoined}`;\n  const runnersInSessionStorage = getSession(cacheKey);\n\n  if (runnersInSessionStorage) {\n    return runnersInSessionStorage;\n  }\n\n  let races = null;\n\n  await axios\n    .get(\n      `${process.env.REACT_APP_API_SERVER}/runner/${runnersNamedJoined}/${startIndex}/${endIndex}`\n    )\n    .then(function(response) {\n      races = response.data;\n      return races;\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n\n  setSession({\n    key: cacheKey,\n    value: races\n  });\n\n  return races;\n}\n\nexport async function searchByRace(runnerNames, raceNames) {\n  const runnersNamedJoined = runnerNames.join(\"$$\");\n  let encodedRaceNames = raceNames.replace(\"/\", \"**\");\n  encodedRaceNames = entities.encode(encodedRaceNames);\n  let races = null;\n\n  const cacheKey = `searchByRace${runnersNamedJoined}${encodedRaceNames}`;\n  const racesInSessionStorage = getSession(cacheKey);\n\n  if (racesInSessionStorage) {\n    return racesInSessionStorage;\n  }\n\n  await axios\n    .get(\n      `${process.env.REACT_APP_API_SERVER}/runnerByRace/${runnersNamedJoined}/${encodedRaceNames}`\n    )\n    .then(function(response) {\n      races = response.data;\n      return races;\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n\n  setSession({\n    key: cacheKey,\n    value: races\n  });\n\n  return races;\n}\n\nexport function partialSearch(partialName) {\n  const cacheKey = `runnersList${partialName}`;\n  const runnersInSessionStorage = getSession(cacheKey);\n\n  if (runnersInSessionStorage) {\n    return {\n      options: runnersInSessionStorage\n    };\n  }\n\n  const url = `${\n    process.env.REACT_APP_API_SERVER\n  }/autocomplete/runner/${partialName.toLowerCase()}`;\n\n  return fetch(url)\n    .then(response => {\n      return response.json();\n    })\n    .then(json => {\n      const runnersList = [];\n\n      json.items.map(runner => {\n        let found = false;\n\n        runnersList.map(runnerAdded => {\n          if (runner.display === runnerAdded.display) {\n            found = true;\n\n            return true;\n          }\n\n          return false;\n        });\n\n        if (!found) {\n          runnersList.push(runner);\n        }\n\n        return found;\n      });\n\n      setSession({\n        key: cacheKey,\n        value: runnersList\n      });\n\n      return {\n        options: runnersList\n      };\n    });\n}\n\nexport function partialRaceSearch(partialName) {\n  const cacheKey = `raceSearch${partialName}`;\n  const racesInSessionStorage = getSession(cacheKey);\n\n  if (racesInSessionStorage) {\n    return {\n      options: racesInSessionStorage\n    };\n  }\n\n  const url = `${\n    process.env.REACT_APP_API_SERVER\n  }/autocomplete/race/${partialName.toLowerCase()}`;\n\n  return fetch(url)\n    .then(response => {\n      return response.json();\n    })\n    .then(json => {\n      const raceList = [];\n\n      json.map(race => {\n        let found = false;\n\n        raceList.map(raceAdded => {\n          if (race.display === raceAdded.display) {\n            found = true;\n\n            return true;\n          }\n\n          return false;\n        });\n\n        if (!found) {\n          raceList.push(race);\n        }\n\n        return found;\n      });\n\n      setSession({\n        key: cacheKey,\n        value: raceList\n      });\n\n      return {\n        options: raceList\n      };\n    });\n}\n\nexport async function getRaceInfoByNames(raceNames) {\n  const url = `${process.env.REACT_APP_API_SERVER}/race/byNames/${raceNames}`;\n  let races = null;\n\n  await axios\n    .get(url)\n    .then(function(response) {\n      races = response.data;\n      return races;\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n\n  return races;\n}\n\nexport async function getAllRaces() {\n  const url = `${process.env.REACT_APP_API_SERVER}/allraces`;\n  let races = null;\n\n  const cacheKey = `raceSearchAllRaces`;\n  const racesInSessionStorage = getSession(cacheKey);\n\n  if (racesInSessionStorage) {\n    return racesInSessionStorage;\n  }\n\n  await axios\n    .get(url)\n    .then(function(response) {\n      races = response.data;\n\n      return races;\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n\n  setSession({\n    key: cacheKey,\n    value: races\n  });\n\n  return races;\n}\n","// @TODO: Test Me\nexport function upperCaseWords(sentence) {\n  const sentenceParts = sentence\n    .split(' ')\n    .map(word => `${word.charAt(0).toUpperCase()}${word.slice(1)} `);\n  let sentenceToReturn = '';\n\n  sentenceParts.map(part => {\n    sentenceToReturn = `${sentenceToReturn}${part}`;\n\n    return sentenceToReturn;\n  });\n\n  return sentenceToReturn;\n}\n","import React, { Component, Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport { animateScroll as scroll } from \"react-scroll\";\nimport { Async } from \"react-select\";\nimport _ from \"lodash\";\nimport \"react-select/dist/react-select.css\";\n\n// Material-UI\nimport { withStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {\n  loadingProgressAction,\n  chosenRunnersAction,\n  chosenRaceAction,\n  endIndexAction,\n  loadMoreProgressAction\n} from \"./../actions/search\";\nimport { runnerDetailsAction } from \"./../actions/runner\";\nimport { stickyAction } from \"./../actions/scroll\";\nimport LoadingProgress from \"./../components/LoadingProgress\";\nimport NoResults from \"./../components/NoResults\";\n\nimport {\n  search,\n  partialSearch,\n  searchByRace\n} from \"./../service/searchService\";\nimport {\n  getSession,\n  setSession,\n  removeSession,\n  getLocal,\n  setLocal,\n  removeLocal,\n  removeAllSession\n} from \"./../service/storageService\";\nimport { upperCaseWords } from \"./../utils/stringUtils\";\n\nconst ArrowUpwardButton = React.lazy(() =>\n  import(\"./../components/ArrowUpwardButton\")\n);\nconst ArrowDownwardButton = React.lazy(() =>\n  import(\"./../components/ArrowDownwardButton\")\n);\nconst ClearButton = React.lazy(() => import(\"./../components/ClearButton\"));\nconst RaceDetails = React.lazy(() => import(\"./../components/RaceDetails\"));\nconst RunnerDetails = React.lazy(() => import(\"./../components/RunnerDetails\"));\nconst RaceInfo = React.lazy(() => import(\"./../components/RaceInfo\"));\nconst RaceDropDown = React.lazy(() => import(\"./../components/RaceDropDown\"));\nconst OverallStats = React.lazy(() => import(\"./../components/OverallStats\"));\nconst LoadMoreButton = React.lazy(() =>\n  import(\"./../components/LoadMoreButton\")\n);\n\nconst styles = theme => ({\n  searchField: {\n    paddingBottom: \"5px\",\n    paddingLeft: \"5px\",\n    paddingRight: \"5px\",\n    marginTop: \"-5px\",\n    zIndex: \"2\"\n  },\n  search: {\n    position: \"sticky\",\n    backgroundColor: \"white\",\n    zIndex: \"2 !important\",\n    borderBottom: \"1px solid #CCCCCC\",\n    top: \"40px\",\n    paddingTop: \"40px\",\n    borderTop: \"1px solid #CCCCCC\",\n    paddingBottom: \"2px\"\n  },\n  progress: {\n    margin: theme.spacing.unit * 2\n  }\n});\n\nconst chosenRunnersKey = \"chosenRunners\";\nconst startIndex = 0;\n\nclass Runner extends Component {\n  constructor(props) {\n    super(props);\n\n    this.searchRunnerRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    window.addEventListener(\"scroll\", this.onScroll, false);\n\n    const namesSet = getLocal(chosenRunnersKey);\n\n    if (namesSet) {\n      this.props.dispatchChosenRunners(namesSet);\n      this.onChange(namesSet);\n    }\n\n    scroll.scrollTo(0);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener(\"scroll\", this.onScroll, false);\n  };\n\n  shouldComponentUpdate = (nextProps, nextState) => {\n    if (!_.isEqual(this.props.classes, nextProps.classes)) {\n      return true;\n    }\n\n    if (\n      !_.isEqual(this.props.dispatchChosenRace, nextProps.dispatchChosenRace)\n    ) {\n      return true;\n    }\n\n    if (\n      !_.isEqual(\n        this.props.dispatchChosenRunners,\n        nextProps.dispatchChosenRunners\n      )\n    ) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchEndIndex, nextProps.dispatchEndIndex)) {\n      return true;\n    }\n\n    if (\n      !_.isEqual(\n        this.props.dispatchLoadMoreProgress,\n        nextProps.dispatchLoadMoreProgress\n      )\n    ) {\n      return true;\n    }\n\n    if (\n      !_.isEqual(\n        this.props.dispatchLoadingProgress,\n        nextProps.dispatchLoadingProgress\n      )\n    ) {\n      return true;\n    }\n\n    if (\n      !_.isEqual(\n        this.props.dispatchRunnerDetails,\n        nextProps.dispatchRunnerDetails\n      )\n    ) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchSticky, nextProps.dispatchSticky)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.menuReducer, nextProps.menuReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.raceReducer, nextProps.raceReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.runnerReducer, nextProps.runnerReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.scrollReducer, nextProps.scrollReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.searchReducer, nextProps.searchReducer)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  buildClearButton = () => {\n    return (\n      <Suspense\n        fallback={<CircularProgress className={styles.prototypeprogress} />}\n      >\n        <ClearButton onClick={this.clearClick} />\n      </Suspense>\n    );\n  };\n\n  onScroll = () => {\n    if (window.scrollY >= 165 && !this.props.scrollReducer.sticky) {\n      this.props.dispatchSticky(true);\n    } else if (window.scrollY < 165 && this.props.scrollReducer.sticky) {\n      this.props.dispatchSticky(false);\n    }\n  };\n\n  scrollToTop = () => {\n    scroll.scrollTo(170);\n  };\n\n  performSearch = async runnerName => {\n    if (runnerName) {\n      this.props.dispatchLoadingProgress(true);\n      this.props.dispatchRunnerDetails(null);\n      this.props.dispatchChosenRace(\"\");\n\n      const { endIndex } = this.props.searchReducer;\n      const cacheKey = `getRunner${runnerName}`.replace(\" \", \"\");\n      const runnerInStorage = getSession(cacheKey);\n      let result;\n\n      if (!runnerInStorage) {\n        result = await search(runnerName, startIndex, endIndex);\n        setSession({ key: cacheKey, value: JSON.stringify(result) });\n      } else {\n        result = JSON.parse(runnerInStorage);\n        removeSession(cacheKey);\n      }\n\n      this.props.dispatchRunnerDetails(result);\n      this.props.dispatchLoadingProgress(false);\n      this.scrollToTop();\n    }\n  };\n\n  searchForRunners = async (runners, newEndIndex) => {\n    if (runners && runners.length > 0) {\n      let names = [];\n\n      runners.map(eachRunner => {\n        names.push(eachRunner.display);\n      });\n\n      const cacheKey = `getRunners${names.join(\n        \"\"\n      )}${startIndex}${newEndIndex}`.replace(\" \", \"\");\n      const runnersInStorage = getSession(cacheKey);\n      let runnersDetails;\n\n      if (!runnersInStorage) {\n        runnersDetails = await search(names, startIndex, newEndIndex);\n        setSession({ key: cacheKey, value: JSON.stringify(runnersDetails) });\n\n        return runnersDetails;\n      } else {\n        runnersDetails = JSON.parse(runnersInStorage);\n        removeSession(cacheKey);\n      }\n\n      return runnersDetails;\n    }\n\n    return null;\n  };\n\n  searchForRunnersByRace = async (runners, race) => {\n    if (runners && runners.length > 0) {\n      let names = [];\n\n      runners.map(eachRunner => {\n        names.push(eachRunner.display);\n      });\n\n      const cacheKey = `getRunnersByRace${names.join(\"\")}${race}`.replace(\n        \" \",\n        \"\"\n      );\n      const runnersInStorage = getSession(cacheKey);\n      let runnersDetails;\n\n      if (!runnersInStorage) {\n        runnersDetails = await searchByRace(names, race);\n        setSession({ key: cacheKey, value: JSON.stringify(runnersDetails) });\n\n        return runnersDetails;\n      } else {\n        runnersDetails = JSON.parse(runnersInStorage);\n        removeSession(cacheKey);\n      }\n\n      return runnersDetails;\n    }\n\n    return null;\n  };\n\n  handleClick = async event => {\n    event.preventDefault();\n    const searchValue = this.searchRunnerRef.value.trim();\n\n    if (searchValue !== \"\") {\n      if (upperCaseWords(searchValue) !== this.state.runnerName) {\n        await this.performSearch(searchValue);\n      }\n    } else {\n      this.clearClick();\n    }\n  };\n\n  clearClick = () => {\n    this.props.dispatchLoadingProgress(true);\n    this.props.dispatchRunnerDetails(null);\n    this.props.dispatchSticky(false);\n    this.props.dispatchChosenRunners([]);\n    this.props.dispatchChosenRace(\"\");\n    this.props.dispatchEndIndex(0);\n\n    removeLocal(chosenRunnersKey);\n    removeAllSession();\n\n    this.props.dispatchLoadingProgress(false);\n\n    scroll.scrollToTop();\n  };\n\n  scrollToTopClick = e => {\n    e.preventDefault();\n    scroll.scrollToTop();\n  };\n\n  scrollToBottomClick = e => {\n    e.preventDefault();\n    scroll.scrollToBottom();\n  };\n\n  loadingProgress = () => {\n    return <LoadingProgress />;\n  };\n\n  noResultsFound = () => {\n    return <NoResults />;\n  };\n\n  buildRaceResult = race => {\n    let raceResult = race;\n\n    if (raceResult && raceResult.length > 0) {\n      raceResult = raceResult[0];\n    }\n\n    let raceInfo;\n\n    if (raceResult.raceInfo) {\n      raceInfo = (\n        <Suspense fallback={<CircularProgress className={styles.progress} />}>\n          <RaceInfo raceInfo={raceResult.raceInfo} />\n        </Suspense>\n      );\n    }\n\n    return (\n      <div key={raceResult.id}>\n        <br />\n        <Suspense fallback={<CircularProgress className={styles.progress} />}>\n          <RaceDetails race={raceResult} />\n        </Suspense>\n        {raceInfo}\n        <Suspense fallback={<CircularProgress className={styles.progress} />}>\n          <RunnerDetails runner={raceResult.runner} />\n        </Suspense>\n      </div>\n    );\n  };\n\n  loadMoreOnClick = async event => {\n    event.preventDefault();\n    const { chosenRunners } = this.props.searchReducer;\n\n    this.props.dispatchLoadMoreProgress(true);\n\n    await this.onChange(chosenRunners);\n\n    this.props.dispatchLoadMoreProgress(false);\n  };\n\n  calculateNextEndIndex = runnerNames => {\n    const { runnerDetails } = this.props.runnerReducer;\n    const { endIndex, chosenRunners } = this.props.searchReducer;\n\n    if (endIndex === 0) {\n      return 10;\n    }\n\n    if (runnerNames.length === chosenRunners.length) {\n      if (endIndex + 10 > runnerDetails.overallStats.noOfRaces) {\n        return runnerDetails.overallStats.noOfRaces;\n      }\n\n      return endIndex + 10;\n    } else {\n      return 10;\n    }\n  };\n\n  onChange = async runnerNames => {\n    const { runnersDetails } = this.props.runnerReducer;\n    const { chosenRunners, chosenRace, endIndex } = this.props.searchReducer;\n\n    if (runnerNames.length > 0) {\n      this.props.dispatchLoadingProgress(true);\n\n      const newEndIndex = this.calculateNextEndIndex(runnerNames);\n      const runnersDetailsResult = await this.searchForRunners(\n        runnerNames,\n        newEndIndex\n      );\n\n      if (!_.isEqual(chosenRunners, runnerNames)) {\n        this.props.dispatchChosenRunners(runnerNames);\n      }\n\n      if (!_.isEqual(runnersDetails, runnersDetailsResult)) {\n        this.props.dispatchRunnerDetails(runnersDetailsResult);\n      }\n\n      if (endIndex !== newEndIndex) {\n        this.props.dispatchEndIndex(newEndIndex);\n      }\n\n      if (chosenRace !== \"\") {\n        this.props.dispatchChosenRace(\"\");\n      }\n\n      setLocal({ key: chosenRunnersKey, value: runnerNames });\n\n      this.props.dispatchLoadingProgress(false);\n    } else {\n      this.clearClick();\n    }\n  };\n\n  fetchRunnerByRace = async (runnerNames, chosenRaceParam) => {\n    const { runnersDetails } = this.props.runnerReducer;\n    const { chosenRace, chosenRunners } = this.props.searchReducer;\n\n    if (runnerNames.length > 0) {\n      const runnersDetailsResult = await this.searchForRunnersByRace(\n        runnerNames,\n        chosenRaceParam\n      );\n\n      if (chosenRaceParam !== chosenRace) {\n        this.props.dispatchChosenRace(chosenRaceParam);\n      }\n\n      if (!_.isEqual(runnerNames, chosenRunners)) {\n        this.props.dispatchChosenRunners(runnerNames);\n      }\n\n      if (!_.isEqual(runnersDetails, runnersDetailsResult)) {\n        this.props.dispatchRunnerDetails(runnersDetailsResult);\n      }\n\n      setLocal({ key: chosenRunnersKey, value: runnerNames });\n\n      this.props.dispatchLoadingProgress(false);\n    } else {\n      this.clearClick();\n    }\n  };\n\n  fetchRunners = async (searchValue, callback) => {\n    this.props.dispatchLoadingProgress(true);\n\n    if (!searchValue) {\n      callback(null, { options: [] });\n    }\n\n    if (searchValue.length > 2) {\n      callback(null, await partialSearch(searchValue));\n    } else {\n      callback(null, { options: [] });\n    }\n\n    this.props.dispatchLoadingProgress(false);\n  };\n\n  debouncedFetchRunners = _.debounce(this.fetchRunners, 100);\n\n  getRunners = (searchValue, callback) => {\n    if (!searchValue || searchValue.length < 4) {\n      return callback(null, { options: [] });\n    }\n\n    this.debouncedFetchRunners(searchValue, callback);\n  };\n\n  handleChooseRaceChange = async event => {\n    const { chosenRunners, endIndex } = this.props.searchReducer;\n    const chosenRace = event.target.value;\n\n    this.props.dispatchLoadingProgress(true);\n\n    if (endIndex !== 0) {\n      this.props.dispatchEndIndex(0);\n    }\n\n    if (chosenRace === \"all\") {\n      await this.onChange(chosenRunners);\n    } else {\n      await this.fetchRunnerByRace(chosenRunners, chosenRace);\n    }\n\n    this.scrollToTop();\n  };\n\n  populateOverallStats = () => {\n    const { runnerDetails } = this.props.runnerReducer;\n\n    if (runnerDetails.overallStats) {\n      return (\n        <Suspense fallback={<CircularProgress className={styles.progress} />}>\n          <OverallStats overallStats={runnerDetails.overallStats} />\n        </Suspense>\n      );\n    }\n\n    return null;\n  };\n\n  buildChosenRaceList = (chosenRace, races) => {\n    let filteredRaces = [];\n    if (!chosenRace) {\n      chosenRace = \"\";\n    }\n\n    const listOfChosenRaces = chosenRace.split(\"||\");\n\n    if (listOfChosenRaces.length > 1) {\n      listOfChosenRaces.map(eachChosenRace => {\n        for (let i = 0; i < races.length; i++) {\n          if (races[i].name === eachChosenRace) {\n            filteredRaces.push(races[i]);\n          }\n        }\n      });\n    } else {\n      if (races) {\n        filteredRaces = races;\n      }\n    }\n\n    if (filteredRaces.length > 1) {\n      filteredRaces = filteredRaces.sort(function(a, b) {\n        return new Date(b.dateTime) - new Date(a.dateTime);\n      });\n    }\n\n    return filteredRaces.map(race => this.buildRaceResult(race));\n  };\n\n  render() {\n    // @TODO: Tidy this up getting very cluttered\n    const { progress, searchField, search } = this.props.classes;\n    const {\n      loadingProgress,\n      chosenRunners,\n      chosenRace,\n      loadMoreLoading\n    } = this.props.searchReducer;\n    const { runnerDetails } = this.props.runnerReducer;\n    const { sticky } = this.props.scrollReducer;\n    const searchClass = sticky ? search : \"\";\n    let { endIndex } = this.props.searchReducer;\n    let clearButton;\n    let overallStats;\n    let raceResults;\n    let loadingResults;\n    let scrollToTopButton;\n    let racesSelect;\n    let loadMoreButton;\n    let loadMoreLoadingProgress;\n    let downwardArrowButtonShow;\n\n    // loading main race results\n    if (loadingProgress) {\n      loadingResults = this.loadingProgress();\n    }\n\n    if (\n      runnerDetails != null &&\n      runnerDetails.races &&\n      runnerDetails.races.length > 0\n    ) {\n      // Display clear button\n      clearButton = this.buildClearButton();\n      overallStats = this.populateOverallStats();\n      const racesForRunner = runnerDetails.races;\n\n      if (endIndex === 0) {\n        endIndex = 10;\n      }\n\n      // @TODO : Pass off to a function\n      // Filtering races\n      if (chosenRace === \"\") {\n        raceResults = racesForRunner.map(race => this.buildRaceResult(race));\n\n        // Load more button\n        if (runnerDetails.overallStats.noOfRaces > endIndex) {\n          loadMoreButton = (\n            <Suspense fallback={<CircularProgress className={progress} />}>\n              <LoadMoreButton onClick={this.loadMoreOnClick} />\n            </Suspense>\n          );\n        }\n      } else {\n        raceResults = this.buildChosenRaceList(chosenRace, runnerDetails.races);\n\n        // Load more button\n        if (raceResults.length > endIndex) {\n          loadMoreButton = (\n            <Suspense fallback={<CircularProgress className={progress} />}>\n              <LoadMoreButton onClick={this.loadMoreOnClick} />\n            </Suspense>\n          );\n        }\n      }\n\n      // Populating races drop down\n      racesSelect = (\n        <Suspense fallback={<CircularProgress className={progress} />}>\n          <RaceDropDown\n            raceNames={runnerDetails.raceNames}\n            chosenRace={chosenRace}\n            onChange={this.handleChooseRaceChange}\n          />\n        </Suspense>\n      );\n\n      // loading more results\n      if (loadMoreLoading) {\n        loadMoreLoadingProgress = this.loadingProgress();\n        loadMoreButton = null;\n        scroll.scrollMore(250);\n      } else {\n        downwardArrowButtonShow = (\n          <Suspense fallback={<CircularProgress className={progress} />}>\n            <ArrowDownwardButton onClick={this.scrollToBottomClick} />\n          </Suspense>\n        );\n\n        if (sticky) {\n          scrollToTopButton = (\n            <Suspense fallback={<CircularProgress className={progress} />}>\n              <ArrowUpwardButton onClick={this.scrollToTopClick} />\n            </Suspense>\n          );\n        }\n      }\n    } else if (runnerDetails != null && runnerDetails.races.length === 0) {\n      raceResults = this.noResultsFound();\n    }\n\n    return (\n      <React.Fragment>\n        <div className={searchClass}>\n          <Async\n            cacheOptions\n            defaultOptions\n            className={searchField}\n            valueKey=\"original\"\n            labelKey=\"display\"\n            matchProp=\"any\"\n            name=\"runner-search-field\"\n            onChange={this.onChange}\n            loadOptions={this.getRunners}\n            placeholder=\"Search Runner\"\n            noResultsText=\"No runners found\"\n            value={chosenRunners}\n            multi={true}\n            ignoreAccents={false}\n          />\n          {racesSelect}\n          {clearButton}\n        </div>\n        {downwardArrowButtonShow}\n        {loadingResults}\n        {overallStats}\n        {raceResults}\n        {loadMoreLoadingProgress}\n        {loadMoreButton}\n        {scrollToTopButton}\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchLoadingProgress: loadingProgress =>\n    dispatch(loadingProgressAction(loadingProgress)),\n  dispatchRunnerDetails: runnerDetails =>\n    dispatch(runnerDetailsAction(runnerDetails)),\n  dispatchSticky: sticky => dispatch(stickyAction(sticky)),\n  dispatchChosenRunners: chosenRunners =>\n    dispatch(chosenRunnersAction(chosenRunners)),\n  dispatchChosenRace: chosenRace => dispatch(chosenRaceAction(chosenRace)),\n  dispatchEndIndex: endIndex => dispatch(endIndexAction(endIndex)),\n  dispatchLoadMoreProgress: loadMoreProgress =>\n    dispatch(loadMoreProgressAction(loadMoreProgress))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(React.memo(Runner)));\n","import {\n    LOADING_PROGRESS_ACTION,\n    LOADING_PROGRESS_RACE_ACTION,\n    CHOSEN_RUNNERS_ACTION,\n    CHOSEN_RACES_ACTION,\n    CHOSEN_RACE_ACTION,\n    END_INDEX_ACTION,\n    LOAD_MORE_PROGRESS_ACTION,\n} from './../actionTypes/search';\n\nexport const loadingProgressAction = (loadingProgress = true) => dispatch => {\n    dispatch({\n        type: LOADING_PROGRESS_ACTION,\n        payload: loadingProgress,\n    });\n};\n\nexport const loadingProgressRaceAction = (loadingProgress = true) => dispatch => {\n    dispatch({\n        type: LOADING_PROGRESS_RACE_ACTION,\n        payload: loadingProgress,\n    });\n};\n\nexport const chosenRunnersAction = (chosenRunners = []) => dispatch => {\n    dispatch({\n        type: CHOSEN_RUNNERS_ACTION,\n        payload: chosenRunners,\n    });\n};\n\nexport const chosenRacesAction = (chosenRace = []) => dispatch => {\n    dispatch({\n        type: CHOSEN_RACES_ACTION,\n        payload: chosenRace,\n    });\n};\n\nexport const chosenRaceAction = (chosenRace = '') => dispatch => {\n    dispatch({\n        type: CHOSEN_RACE_ACTION,\n        payload: chosenRace,\n    });\n};\n\nexport const endIndexAction = (endIndex = 0) => dispatch => {\n    dispatch({\n        type: END_INDEX_ACTION,\n        payload: endIndex,\n    });\n};\n\nexport const loadMoreProgressAction = (loadMoreProgress = false) => dispatch => {\n    dispatch({\n        type: LOAD_MORE_PROGRESS_ACTION,\n        payload: loadMoreProgress,\n    });\n};","import {\n    RUNNER_DETAILS_ACTION,\n} from './../actionTypes/runner';\n\nexport const runnerDetailsAction = (details = null) => dispatch => {\n    dispatch({\n        type: RUNNER_DETAILS_ACTION,\n        payload: details,\n    });\n};","/* global google */\n\nimport React, { Component, Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport { animateScroll as scroll } from \"react-scroll\";\nimport { Async } from \"react-select\";\nimport _ from \"lodash\";\nimport \"react-select/dist/react-select.css\";\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {\n  partialRaceSearch,\n  getRaceInfoByNames\n} from \"./../service/searchService\";\nimport {\n  loadingProgressRaceAction,\n  chosenRacesAction\n} from \"./../actions/search\";\nimport { raceDetailsAction, userOriginAction } from \"./../actions/race\";\nimport { stickyAction } from \"./../actions/scroll\";\nimport {\n  getSession,\n  setSession,\n  removeSession,\n  getLocal,\n  setLocal,\n  removeLocal\n} from \"./../service/storageService\";\n\nimport LoadingProgress from \"./../components/LoadingProgress\";\nimport NoResults from \"./../components/NoResults\";\n\nconst ArrowUpwardButton = React.lazy(() =>\n  import(\"./../components/ArrowUpwardButton\")\n);\nconst ArrowDownwardButton = React.lazy(() =>\n  import(\"./../components/ArrowDownwardButton\")\n);\nconst RaceInfo = React.lazy(() => import(\"./../components/RaceInfo\"));\nconst ClearButton = React.lazy(() => import(\"./../components/ClearButton\"));\nconst ResultCategory = React.lazy(() =>\n  import(\"./../components/ResultCategory\")\n);\nconst YearResultCategory = React.lazy(() =>\n  import(\"./../components/YearResultCategory\")\n);\nconst RacePerformancePanel = React.lazy(() =>\n  import(\"./../components/RacePerformancePanel\")\n);\nconst MapComponent = React.lazy(() => import(\"./../components/MapComponent\"));\nconst SameDayRaces = React.lazy(() => import(\"./../components/SameDayRaces\"));\n\nconst styles = theme => ({\n  searchField: {\n    paddingBottom: \"5px\",\n    paddingLeft: \"5px\",\n    paddingRight: \"5px\",\n    marginTop: \"-5px\",\n    zIndex: \"2\"\n  },\n  search: {\n    position: \"sticky\",\n    backgroundColor: \"white\",\n    zIndex: \"2 !important\",\n    borderBottom: \"1px solid #CCCCCC\",\n    top: \"40px\",\n    paddingTop: \"40px\",\n    borderTop: \"1px solid #CCCCCC\",\n    paddingBottom: \"2px\"\n  },\n  progress: {\n    margin: theme.spacing.unit * 2\n  },\n  expansionPanel: {\n    marginTop: \"5px\",\n    marginBottom: \"15px\"\n  }\n});\n\nconst chosenRacesKey = \"chosenRaces\";\nconst directionsDestinationKey = \"directionsDestinationKey\";\nconst originKey = \"origin\";\n\nclass Race extends Component {\n  constructor(props) {\n    super(props);\n\n    this.searchRaceRef = React.createRef();\n  }\n\n  getOrigin = () => {\n    let cachedOrigin = getSession(originKey);\n    let origin;\n\n    if (!cachedOrigin && navigator.geolocation) {\n      var self = this;\n\n      const geoSuccess = function(position) {\n        origin = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        setSession({ key: originKey, value: JSON.stringify(origin) });\n        self.props.dispatchOrigin(origin);\n      };\n      navigator.geolocation.getCurrentPosition(geoSuccess);\n    } else {\n      origin = JSON.parse(cachedOrigin);\n      this.props.dispatchOrigin(origin);\n    }\n  };\n\n  componentDidMount = () => {\n    window.addEventListener(\"scroll\", this.onScroll, false);\n\n    const racesSet = getLocal(chosenRacesKey);\n\n    if (racesSet) {\n      this.props.dispatchLoadingProgress(true);\n      this.props.dispatchChosenRace(racesSet);\n      this.onChange(racesSet);\n      this.props.dispatchLoadingProgress(false);\n    }\n\n    this.getOrigin();\n    scroll.scrollTo(0);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener(\"scroll\", this.onScroll, false);\n  };\n\n  shouldComponentUpdate = (nextProps, nextState) => {\n    if (!_.isEqual(this.props.classes, nextProps.classes)) {\n      return true;\n    }\n\n    if (\n      !_.isEqual(this.props.dispatchChosenRace, nextProps.dispatchChosenRace)\n    ) {\n      return true;\n    }\n\n    if (\n      !_.isEqual(\n        this.props.dispatchLoadingProgress,\n        nextProps.dispatchLoadingProgress\n      )\n    ) {\n      return true;\n    }\n\n    if (\n      !_.isEqual(this.props.dispatchRaceDetails, nextProps.dispatchRaceDetails)\n    ) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.dispatchSticky, nextProps.dispatchSticky)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.menuReducer, nextProps.menuReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.raceReducer, nextProps.raceReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.scrollReducer, nextProps.scrollReducer)) {\n      return true;\n    }\n\n    if (!_.isEqual(this.props.searchReducer, nextProps.searchReducer)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  buildClearButton = () => {\n    return (\n      <Suspense\n        fallback={<CircularProgress className={styles.prototypeprogress} />}\n      >\n        <ClearButton onClick={this.clearClick} />\n      </Suspense>\n    );\n  };\n\n  onScroll = () => {\n    if (window.scrollY >= 165 && !this.props.scrollReducer.sticky) {\n      this.props.dispatchSticky(true);\n    } else if (window.scrollY < 165 && this.props.scrollReducer.sticky) {\n      this.props.dispatchSticky(false);\n    }\n  };\n\n  scrollToTop = () => {\n    scroll.scrollTo(170);\n  };\n\n  loadingProgress = () => {\n    return <LoadingProgress />;\n  };\n\n  noResultsFound = () => {\n    return <NoResults />;\n  };\n\n  scrollToTopClick = e => {\n    e.preventDefault();\n    scroll.scrollToTop();\n  };\n\n  scrollToBottomClick = e => {\n    e.preventDefault();\n    scroll.scrollToBottom();\n  };\n\n  onChange = async raceNames => {\n    const { raceDetails } = this.props.raceReducer;\n    const { chosenRaces } = this.props.searchReducer;\n\n    if (raceNames.length > 1) {\n      // @TODO: tidy up this hack so the user can only choose one race\n      this.props.dispatchChosenRace(chosenRaces);\n      this.props.dispatchLoadingProgress(false);\n\n      return;\n    }\n\n    if (raceNames.length === 1) {\n      this.props.dispatchLoadingProgress(true);\n\n      const raceDetailsResult = await this.searchForRaces(raceNames);\n\n      if (!_.isEqual(chosenRaces, raceNames)) {\n        this.props.dispatchChosenRace(raceNames);\n      }\n\n      if (!_.isEqual(raceDetails, raceDetailsResult)) {\n        this.props.dispatchRaceDetails(raceDetailsResult);\n      }\n\n      setLocal({ key: chosenRacesKey, value: raceNames });\n\n      this.props.dispatchLoadingProgress(false);\n    } else {\n      this.clearClick();\n    }\n  };\n\n  fetchRaces = async (searchValue, callback) => {\n    this.props.dispatchLoadingProgress(true);\n\n    if (!searchValue) {\n      callback(null, { options: [] });\n    }\n\n    if (searchValue.length > 2) {\n      callback(null, await partialRaceSearch(searchValue));\n    } else {\n      callback(null, { options: [] });\n    }\n    this.props.dispatchLoadingProgress(false);\n  };\n\n  debouncedFetchRaces = _.debounce(this.fetchRaces, 200);\n\n  getRaces = (searchValue, callback) => {\n    if (!searchValue || searchValue.length < 3) {\n      return callback(null, { options: [] });\n    }\n\n    this.debouncedFetchRaces(searchValue, callback);\n  };\n\n  searchForRaces = async race => {\n    if (race) {\n      const cacheKey = `getRaces${race[0].display}`.replace(\" \", \"\");\n      const raceInStorage = getSession(cacheKey);\n      let raceDetails;\n\n      if (!raceInStorage) {\n        raceDetails = await getRaceInfoByNames(race[0].original);\n        setSession({ key: cacheKey, value: JSON.stringify(raceDetails) });\n\n        return raceDetails;\n      } else {\n        raceDetails = JSON.parse(raceInStorage);\n        removeSession(cacheKey);\n      }\n\n      return raceDetails;\n    }\n\n    return null;\n  };\n\n  clearClick = () => {\n    this.props.dispatchLoadingProgress(true);\n    this.props.dispatchSticky(false);\n    this.props.dispatchRaceDetails(null);\n    this.props.dispatchChosenRace(null);\n\n    removeLocal(chosenRacesKey);\n    removeSession(directionsDestinationKey);\n\n    this.props.dispatchLoadingProgress(false);\n\n    scroll.scrollToTop();\n  };\n\n  buildRaceInfo = raceInfo => {\n    let raceInfoComponent;\n\n    if (raceInfo) {\n      if (raceInfo._latitude > 0) {\n        delete raceInfo._latitude; //not needed at there is google maps directions\n      }\n\n      raceInfoComponent = (\n        <Suspense fallback={<CircularProgress className={styles.progress} />}>\n          <RaceInfo raceInfo={raceInfo} />\n        </Suspense>\n      );\n    }\n\n    return <div key={raceInfo.id}>{raceInfoComponent}</div>;\n  };\n\n  buildResultCategories = (categoryRecords, classes) => {\n    let resultCategoryComponent;\n\n    if (categoryRecords) {\n      resultCategoryComponent = (\n        <Suspense fallback={<CircularProgress className={classes.progress} />}>\n          <ResultCategory categoryRecords={categoryRecords} />\n        </Suspense>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <ExpansionPanel\n          key={categoryRecords.length}\n          className={classes.expansionPanel}\n        >\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n            <Typography className={classes.heading}>\n              <b>Overall</b>\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            {resultCategoryComponent}\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      </React.Fragment>\n    );\n  };\n\n  buildYearResultCategories = races => {\n    let yearResultsComponent;\n\n    if (races) {\n      yearResultsComponent = (\n        <Suspense fallback={<CircularProgress className={styles.progress} />}>\n          <YearResultCategory races={races} />\n          <br />\n          <br />\n          <br />\n          <br />\n        </Suspense>\n      );\n    }\n\n    return yearResultsComponent;\n  };\n\n  buildYearPerformanceGraph = (races, progressClass) => {\n    const performanceData = races\n      .map(race => {\n        if (race.performance > 0) {\n          return [`${race.year}`, `${race.performance}%`];\n        }\n      })\n      .filter(race => race !== undefined);\n\n    return (\n      <Suspense fallback={<CircularProgress className={progressClass} />}>\n        <RacePerformancePanel raceData={performanceData} />\n      </Suspense>\n    );\n  };\n\n  buildDownwardArrow = progress => {\n    return (\n      <Suspense fallback={<CircularProgress className={progress} />}>\n        <ArrowDownwardButton onClick={this.scrollToBottomClick} />\n      </Suspense>\n    );\n  };\n\n  buildMapComponent = (origin, destination, progress) => {\n    return (\n      <Suspense fallback={<CircularProgress className={progress} />}>\n        <MapComponent destination={destination} origin={origin} />\n      </Suspense>\n    );\n  };\n\n  buildSameDayRaces = (origin, races, sameDayRaces, progress) => {\n    const yearOfFirstRace = parseInt(races[0].date.substring(6, 10));\n    const yearNow = new Date().getFullYear();\n\n    if (\n      yearOfFirstRace < yearNow ||\n      !sameDayRaces ||\n      sameDayRaces.length === 0\n    ) {\n      return null;\n    }\n\n    return (\n      <Suspense fallback={<CircularProgress className={progress} />}>\n        <SameDayRaces origin={origin} races={sameDayRaces} />\n      </Suspense>\n    );\n  };\n\n  render() {\n    const { progress, searchField, search } = this.props.classes;\n    const { loadingRaceProgress, chosenRaces } = this.props.searchReducer;\n    const { raceDetails, origin } = this.props.raceReducer;\n    const { sticky } = this.props.scrollReducer;\n    const searchClass = sticky ? search : \"\";\n    let clearButton;\n    let loadingResults;\n    let raceInfoComponent;\n    let resultCategoryComponent;\n    let scrollToTopButton;\n    let downwardArrowButtonShow;\n    let yearResultsComponent;\n    let racePerformancePanelComponent;\n    let mapDirectionComponent;\n    let sameDayRacesComponent;\n\n    // loading race details\n    if (loadingRaceProgress) {\n      loadingResults = this.loadingProgress();\n    }\n\n    if (chosenRaces && chosenRaces.length > 0) {\n      clearButton = this.buildClearButton();\n    }\n\n    if (raceDetails) {\n      raceInfoComponent = this.buildRaceInfo(raceDetails.raceInfo);\n      resultCategoryComponent = this.buildResultCategories(\n        raceDetails.categoryRecords,\n        this.props.classes\n      );\n      yearResultsComponent = this.buildYearResultCategories(raceDetails.races);\n      racePerformancePanelComponent = this.buildYearPerformanceGraph(\n        raceDetails.races,\n        progress\n      );\n      downwardArrowButtonShow = this.buildDownwardArrow(progress);\n\n      if (origin) {\n        sameDayRacesComponent = this.buildSameDayRaces(\n          origin,\n          raceDetails.races,\n          raceDetails.racesSameDay,\n          progress\n        );\n      }\n\n      if (\n        origin &&\n        raceDetails.properties &&\n        raceDetails.properties.latitude &&\n        raceDetails.properties.latitude !== 0\n      ) {\n        const destination = {\n          lat: raceDetails.properties.latitude,\n          lng: raceDetails.properties.longitude\n        };\n        mapDirectionComponent = this.buildMapComponent(\n          origin,\n          destination,\n          progress\n        );\n      }\n    }\n\n    if (sticky) {\n      scrollToTopButton = (\n        <Suspense fallback={<CircularProgress className={progress} />}>\n          <ArrowUpwardButton onClick={this.scrollToTopClick} />\n        </Suspense>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <div className={searchClass}>\n          <Async\n            cacheOptions\n            defaultOptions\n            className={searchField}\n            valueKey=\"original\"\n            labelKey=\"display\"\n            matchProp=\"any\"\n            name=\"race-search-field\"\n            onChange={this.onChange}\n            loadOptions={this.getRaces}\n            placeholder=\"Search Race\"\n            noResultsText=\"No race found\"\n            value={chosenRaces}\n            multi={true}\n            ignoreAccents={false}\n          />\n          {clearButton}\n        </div>\n        {loadingResults}\n        {raceInfoComponent}\n        {mapDirectionComponent}\n        {sameDayRacesComponent}\n        {racePerformancePanelComponent}\n        {resultCategoryComponent}\n        {yearResultsComponent}\n        {downwardArrowButtonShow}\n        {scrollToTopButton}\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchLoadingProgress: loadingProgress =>\n    dispatch(loadingProgressRaceAction(loadingProgress)),\n  dispatchChosenRace: chosenRace => dispatch(chosenRacesAction(chosenRace)),\n  dispatchRaceDetails: raceDetails => dispatch(raceDetailsAction(raceDetails)),\n  dispatchSticky: sticky => dispatch(stickyAction(sticky)),\n  dispatchOrigin: origin => dispatch(userOriginAction(origin))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(React.memo(Race)));\n","import {\n  RACE_DETAILS_ACTION,\n  USER_ORIGIN_ACTION,\n  ALL_RACES_ACTION\n} from \"./../actionTypes/race\";\n\nexport const raceDetailsAction = (details = null) => dispatch => {\n  dispatch({\n    type: RACE_DETAILS_ACTION,\n    payload: details\n  });\n};\n\nexport const userOriginAction = (origin = null) => dispatch => {\n  dispatch({\n    type: USER_ORIGIN_ACTION,\n    payload: origin\n  });\n};\n\nexport const allRacesAction = (races = []) => dispatch => {\n  dispatch({\n    type: ALL_RACES_ACTION,\n    payload: races\n  });\n};\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\n\nconst styles = {};\n\nfunction RacesList(props) {\n  const { racesList } = props;\n\n  return (\n    <div>\n      <Table aria-label=\"Races table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Name</TableCell>\n            <TableCell>Result</TableCell>\n            <TableCell align=\"left\">Date</TableCell>\n            <TableCell align=\"left\">Time</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {racesList.map(row => (\n            <TableRow key={row.name}>\n              <TableCell component=\"th\" scope=\"row\">\n                <a\n                  href={\"https://fellrunner.org.uk/races.php?id=\" + row.id}\n                  target=\"blank\"\n                >\n                  {row.name}\n                </a>\n              </TableCell>\n              <TableCell align=\"left\">\n                <a\n                  href={\n                    \"https://fellrunner.org.uk/results-search.php?q=\" + row.name\n                  }\n                  target=\"blank\"\n                >\n                  results\n                </a>\n              </TableCell>\n              <TableCell align=\"left\">{row.date}</TableCell>\n              <TableCell align=\"left\">{row.time}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n\nexport default withStyles(styles)(React.memo(RacesList));\n","import React, { Component, Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport RaceListComponent from \"./../components/RacesList\";\nimport LoadingProgress from \"./../components/LoadingProgress\";\n\nimport { getAllRaces } from \"./../service/searchService\";\n\nimport { allRacesAction } from \"./../actions/race\";\n\nconst styles = theme => ({});\n\nclass RaceList extends Component {\n  componentDidMount = async () => {\n    this.props.dispatchAllRacesAction(await getAllRaces());\n  };\n\n  render() {\n    const { raceReducer } = this.props;\n    const raceListComponent =\n      raceReducer.races.length > 0 ? (\n        <Suspense fallback={<LoadingProgress />}>\n          <RaceListComponent racesList={raceReducer.races} />\n        </Suspense>\n      ) : (\n        <LoadingProgress />\n      );\n\n    return <React.Fragment>{raceListComponent}</React.Fragment>;\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchAllRacesAction: races => dispatch(allRacesAction(races))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(React.memo(RaceList)));\n","import React, { Component, Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FacebookLogin from \"react-facebook-login\";\n\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { setLocal, getLocal } from \"./../service/storageService\";\nimport { loginAction } from \"./../actions/user\";\nimport { menuAction } from \"./../actions/menu\";\nimport {\n  MENU_CHOICE,\n  PREVIOUS_MENU_CHOICE,\n  USER_LOGIN\n} from \"./../utils/cacheKeys\";\n\nconst styles = theme => ({});\n\nclass User extends Component {\n  facebookLoginResponse = details => {\n    const userDetails = { provider: \"facebook\", details: details };\n\n    setLocal({ key: USER_LOGIN, value: userDetails });\n    this.props.dispatchLoginAction(userDetails);\n\n    const previousMenuOption = getLocal(PREVIOUS_MENU_CHOICE);\n\n    if (previousMenuOption) {\n      const race = previousMenuOption === \"race\" ? true : false;\n      const runner = previousMenuOption === \"runner\" ? true : false;\n      const calendar = previousMenuOption === \"calendar\" ? true : false;\n      const allRaces = previousMenuOption === \"allraces\" ? true : false;\n\n      this.props.dispatchMenuAction({\n        race: race,\n        runner: runner,\n        calendar: calendar,\n        allRaces: allRaces,\n        login: false\n      });\n    } else {\n      this.props.dispatchMenuAction({\n        race: false,\n        runner: false,\n        calendar: true,\n        allRaces: false,\n        login: false\n      });\n    }\n  };\n\n  componentWillMount = () => {\n    const userDetails = getLocal(USER_LOGIN);\n\n    if (userDetails) {\n      this.props.dispatchLoginAction(userDetails);\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <Suspense fallback={<CircularProgress />}>\n          <FacebookLogin\n            appId=\"671147657003053\"\n            fields=\"name,picture\"\n            callback={this.facebookLoginResponse}\n          />\n          <br />\n          <br />\n          <br />\n        </Suspense>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchMenuAction: menu => dispatch(menuAction(menu)),\n  dispatchLoginAction: userDetails => dispatch(loginAction(userDetails))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(React.memo(User)));\n","import axios from \"axios\";\n\nexport async function getEvents() {\n  let events = null;\n\n  await axios\n    .get(`${process.env.REACT_APP_API_SERVER}/calendarEvents`)\n    .then(function(response) {\n      const isValidDate = dateValue => {\n        const timestamp = Date.parse(dateValue);\n\n        return isNaN(timestamp);\n      };\n      events = [];\n\n      for (let i = 0; i < response.data.length; i++) {\n        if (\n          isValidDate(response.data[i].start) ||\n          isValidDate(response.data[i].end)\n        ) {\n          continue;\n        }\n\n        const startDate = new Date(Date.parse(response.data[i].start));\n        const endDate = new Date(Date.parse(response.data[i].end));\n\n        events.push({\n          id: response.data[i].id,\n          title: response.data[i].title,\n          start: startDate,\n          end: endDate,\n          short: response.data[i].short,\n          medium: response.data[i].medium,\n          long: response.data[i].long,\n          cancelled: response.data[i].cancelled,\n          postponed: response.data[i].postponed,\n          url: response.data[i].url\n        });\n      }\n\n      return events;\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n\n  return events;\n}\n","import React, { PureComponent, Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport MenuBar from \"./../components/MenuBar\";\nimport Runner from \"./Runner\";\nimport Race from \"./Race\";\nimport RaceList from \"./RaceList\";\nimport User from \"./User\";\n\nimport { menuAction, menuToggleAction } from \"./../actions/menu\";\nimport { eventsAction } from \"./../actions/calendar\";\nimport { loginAction } from \"./../actions/user\";\nimport { getLocal, setLocal, removeLocal } from \"./../service/storageService\";\nimport { getEvents } from \"./../service/calendarService\";\nimport {\n  MENU_CHOICE,\n  PREVIOUS_MENU_CHOICE,\n  USER_LOGIN\n} from \"./../utils/cacheKeys\";\n\nconst RaceCalendar = React.lazy(() => import(\"./../components/RaceCalendar\"));\nconst menuCacheValues = {\n  race: \"race\",\n  runner: \"runner\",\n  calendar: \"calendar\",\n  allraces: \"allraces\",\n  login: \"login\"\n};\n\nclass Main extends PureComponent {\n  componentWillMount() {\n    const menuCachedValue = getLocal(MENU_CHOICE);\n    const loggedInCacheValue = getLocal(USER_LOGIN);\n\n    if (menuCachedValue) {\n      if (menuCachedValue === menuCacheValues.race) {\n        this.props.dispatchMenuAction({\n          race: true,\n          runner: false,\n          calendar: false,\n          allRaces: false,\n          login: false\n        });\n      }\n\n      if (menuCachedValue === menuCacheValues.runner) {\n        this.props.dispatchMenuAction({\n          race: false,\n          runner: true,\n          calendar: false,\n          allRaces: false,\n          login: false\n        });\n      }\n\n      if (menuCachedValue === menuCacheValues.calendar) {\n        this.props.dispatchMenuAction({\n          race: false,\n          runner: false,\n          calendar: true,\n          allRaces: false,\n          login: false\n        });\n      }\n\n      if (menuCachedValue === menuCacheValues.allraces) {\n        this.props.dispatchMenuAction({\n          race: false,\n          runner: false,\n          calendar: false,\n          allRaces: true,\n          login: false\n        });\n      }\n\n      if (menuCachedValue === menuCacheValues.login) {\n        this.props.dispatchMenuAction({\n          race: false,\n          runner: false,\n          calendar: false,\n          allRaces: false,\n          login: true\n        });\n      }\n\n      this.props.dispatchMenuToggleAction(false);\n    }\n\n    if (loggedInCacheValue) {\n      const expiryTime = loggedInCacheValue.details.data_access_expiration_time;\n      const currentTime = parseInt(\n        new Date()\n          .getTime()\n          .toString()\n          .substr(0, 10)\n      );\n\n      if (currentTime >= expiryTime) {\n        removeLocal(USER_LOGIN);\n        this.props.dispatchLoginAction(null);\n      } else {\n        this.props.dispatchLoginAction(loggedInCacheValue);\n      }\n\n      setLocal({ key: MENU_CHOICE, value: menuCacheValues.login });\n    }\n\n    this.calendarMenuOption();\n  }\n\n  async componentDidMount() {\n    this.props.dispatchCalendarEventsAction(await getEvents());\n  }\n\n  calendarMenuOption = () => {\n    setLocal({ key: MENU_CHOICE, value: menuCacheValues.calendar });\n    setLocal({ key: PREVIOUS_MENU_CHOICE, value: menuCacheValues.calendar });\n\n    this.props.dispatchMenuAction({\n      race: false,\n      runner: false,\n      calendar: true,\n      allRaces: false,\n      login: false\n    });\n    this.props.dispatchMenuToggleAction(false);\n  };\n\n  raceOnClick = async event => {\n    event.preventDefault();\n    setLocal({ key: MENU_CHOICE, value: menuCacheValues.race });\n    setLocal({ key: PREVIOUS_MENU_CHOICE, value: menuCacheValues.race });\n\n    this.props.dispatchMenuAction({\n      race: true,\n      runner: false,\n      calendar: false,\n      allRaces: false,\n      login: false\n    });\n    this.props.dispatchMenuToggleAction(false);\n  };\n\n  runnerOnClick = async event => {\n    event.preventDefault();\n    setLocal({ key: MENU_CHOICE, value: menuCacheValues.runner });\n    setLocal({ key: PREVIOUS_MENU_CHOICE, value: menuCacheValues.runner });\n\n    this.props.dispatchMenuAction({\n      race: false,\n      runner: true,\n      calendar: false,\n      allRaces: false,\n      login: false\n    });\n    this.props.dispatchMenuToggleAction(false);\n  };\n\n  allRacesOnClick = async event => {\n    event.preventDefault();\n    setLocal({ key: MENU_CHOICE, value: menuCacheValues.allraces });\n    setLocal({ key: PREVIOUS_MENU_CHOICE, value: menuCacheValues.allraces });\n\n    this.props.dispatchMenuAction({\n      race: false,\n      runner: false,\n      calendar: false,\n      allRaces: true,\n      login: false\n    });\n    this.props.dispatchMenuToggleAction(false);\n  };\n\n  calendarOnClick = async event => {\n    event.preventDefault();\n    this.calendarMenuOption();\n  };\n\n  loginOnClick = async event => {\n    event.preventDefault();\n    setLocal({ key: MENU_CHOICE, value: menuCacheValues.login });\n\n    this.props.dispatchMenuAction({\n      race: false,\n      runner: false,\n      calendar: false,\n      allRaces: false,\n      login: true\n    });\n    this.props.dispatchMenuToggleAction(false);\n  };\n\n  render() {\n    const { race, runner, calendar, allRaces, login } = this.props.menuReducer;\n    const { events } = this.props.calendarReducer;\n    const { userDetails } = this.props.userReducer;\n    const userLoggedIn = !userDetails ? true : false;\n    let menuOption;\n    let hasUserSelectedMenuOption = false;\n\n    if (!race && !calendar && runner && !allRaces && !login) {\n      menuOption = <Runner />;\n    }\n\n    if (race && !calendar && !runner && !allRaces && !login) {\n      menuOption = <Race />;\n    }\n\n    if (!race && !calendar && !runner && allRaces && !login) {\n      menuOption = (\n        <Suspense fallback={<CircularProgress />}>\n          <RaceList />\n        </Suspense>\n      );\n    }\n\n    if (events && !race && calendar && !runner && !allRaces && !login) {\n      menuOption = (\n        <Suspense fallback={<CircularProgress />}>\n          <RaceCalendar events={events} />\n        </Suspense>\n      );\n    }\n\n    if (!race && !calendar && !runner && !allRaces && login) {\n      menuOption = (\n        <Suspense fallback={<CircularProgress />}>\n          <User />\n        </Suspense>\n      );\n    }\n\n    if (race || runner || calendar || allRaces || login) {\n      hasUserSelectedMenuOption = true;\n    }\n\n    return (\n      <React.Fragment>\n        <MenuBar\n          raceOnClick={this.raceOnClick}\n          runnerOnClick={this.runnerOnClick}\n          allRacesOnClick={this.allRacesOnClick}\n          calendarOnClick={this.calendarOnClick}\n          loginOnClick={this.loginOnClick}\n          closeMenu={hasUserSelectedMenuOption}\n          loggedIn={userLoggedIn}\n        />\n        {menuOption}\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchMenuAction: menu => dispatch(menuAction(menu)),\n  dispatchMenuToggleAction: menuOpen => dispatch(menuToggleAction(menuOpen)),\n  dispatchCalendarEventsAction: events => dispatch(eventsAction(events)),\n  dispatchLoginAction: userDetails => dispatch(loginAction(userDetails))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Main);\n","import { CALENDAR_EVENTS_ACTION } from \"../actionTypes/calendar.js\";\n\nexport const eventsAction = (events = null) => dispatch => {\n  dispatch({\n    type: CALENDAR_EVENTS_ACTION,\n    payload: events\n  });\n};\n"],"sourceRoot":""}